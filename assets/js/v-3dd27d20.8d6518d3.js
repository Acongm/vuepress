"use strict";(self.webpackChunkmd_vuepress=self.webpackChunkmd_vuepress||[]).push([[4660],{2433:(e,t,d)=>{d.r(t),d.d(t,{data:()=>r});const r={key:"v-3dd27d20",path:"/webpack/vite-%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86.html",title:"vite - 知识梳理",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、Vite 是什么？",slug:"一、vite-是什么",children:[]},{level:2,title:"二、核心原理",slug:"二、核心原理",children:[{level:3,title:"1. 开发服务器（Dev Server）",slug:"_1-开发服务器-dev-server",children:[]},{level:3,title:"2. 生产构建（Build）",slug:"_2-生产构建-build",children:[]}]},{level:2,title:"三、核心概念 & 配置项（vite.config.ts）",slug:"三、核心概念-配置项-vite-config-ts",children:[]},{level:2,title:"四、常用插件（你作为 React + Ant Design 用户重点关注）",slug:"四、常用插件-你作为-react-ant-design-用户重点关注",children:[]},{level:2,title:"五、与 Webpack 对比（针对你的背景）",slug:"五、与-webpack-对比-针对你的背景",children:[]},{level:2,title:"六、学习路径建议",slug:"六、学习路径建议",children:[{level:3,title:"第一阶段：基础掌握（1-2 天）",slug:"第一阶段-基础掌握-1-2-天",children:[]},{level:3,title:"第二阶段：集成实际需求（2-3 天）",slug:"第二阶段-集成实际需求-2-3-天",children:[]},{level:3,title:"第三阶段：高级能力（可选）",slug:"第三阶段-高级能力-可选",children:[]}]},{level:2,title:"七、推荐资源",slug:"七、推荐资源",children:[]}],git:{updatedTime:1768922032e3},filePathRelative:"webpack/vite-知识梳理.md"}},8038:(e,t,d)=>{d.r(t),d.d(t,{default:()=>p});var r=d(6252);const i=(0,r.uE)('<h1 id="vite-知识梳理" tabindex="-1"><a class="header-anchor" href="#vite-知识梳理" aria-hidden="true">#</a> vite - 知识梳理</h1><p>作为前端开发者，你已经熟悉 React、Ant Design、Webpack 等工具，学习 Vite 会是一个高效且值得投入的方向。以下是围绕 <strong>Vite</strong> 的系统知识梳理，帮助你从零构建认知体系，快速掌握并应用于实际项目。</p><hr><h2 id="一、vite-是什么" tabindex="-1"><a class="header-anchor" href="#一、vite-是什么" aria-hidden="true">#</a> 一、Vite 是什么？</h2><p><strong>Vite</strong>（法语“快”）是由 Vue 作者尤雨溪（Evan You）主导开发的新一代前端构建工具。核心特点：</p><ul><li><strong>开发阶段</strong>：基于原生 ES 模块（ESM）提供<strong>按需加载</strong>，启动和热更新极快（毫秒级）。</li><li><strong>生产构建</strong>：基于 <strong>Rollup</strong> 打包，输出高度优化的静态资源。</li><li><strong>框架无关</strong>：原生支持 Vue、React、Svelte、Lit 等，对 React 支持非常好。</li><li><strong>开箱即用</strong>：TypeScript、JSX、CSS 预处理器、JSON、WebAssembly 等无需配置。</li></ul><blockquote><p>✅ 对你而言：Vite 替代 Webpack 开发环境，可保留 Rollup 用于生产构建（但 Vite 本身也用 Rollup 构建生产包）。</p></blockquote><hr><h2 id="二、核心原理" tabindex="-1"><a class="header-anchor" href="#二、核心原理" aria-hidden="true">#</a> 二、核心原理</h2><h3 id="_1-开发服务器-dev-server" tabindex="-1"><a class="header-anchor" href="#_1-开发服务器-dev-server" aria-hidden="true">#</a> 1. 开发服务器（Dev Server）</h3><ul><li>利用现代浏览器原生支持 <code>&lt;script type=&quot;module&quot;&gt;</code>。</li><li>不打包源码，只做 <strong>模块图解析 + 按需转换</strong>（如 TS → JS、JSX → JS）。</li><li>依赖预构建（<code>esbuild</code>）：将 CommonJS/UMD 依赖转为 ESM，提升加载性能。</li></ul><h3 id="_2-生产构建-build" tabindex="-1"><a class="header-anchor" href="#_2-生产构建-build" aria-hidden="true">#</a> 2. 生产构建（Build）</h3><ul><li>使用 <strong>Rollup</strong> 进行 Tree-shaking、代码分割、压缩等。</li><li>配置与开发一致（<code>vite.config.ts</code>），但插件行为可能不同。</li></ul><hr><h2 id="三、核心概念-配置项-vite-config-ts" tabindex="-1"><a class="header-anchor" href="#三、核心概念-配置项-vite-config-ts" aria-hidden="true">#</a> 三、核心概念 &amp; 配置项（<code>vite.config.ts</code>）</h2><table><thead><tr><th>配置项</th><th>说明</th><th>常用值</th></tr></thead><tbody><tr><td><code>root</code></td><td>项目根目录</td><td>默认 <code>process.cwd()</code></td></tr><tr><td><code>base</code></td><td>部署基础路径</td><td><code>&quot;/&quot;</code> 或 <code>&quot;/my-app/&quot;</code></td></tr><tr><td><code>resolve.alias</code></td><td>路径别名</td><td><code>{ &#39;@&#39;: path.resolve(__dirname, &#39;src&#39;) }</code></td></tr><tr><td><code>define</code></td><td>全局常量替换</td><td><code>{ &#39;process.env.NODE_ENV&#39;: &#39;&quot;production&quot;&#39; }</code></td></tr><tr><td><code>css</code></td><td>CSS 相关配置</td><td><code>preprocessorOptions</code>, <code>modules</code></td></tr><tr><td><code>build</code></td><td>生产构建选项</td><td><code>outDir</code>, <code>rollupOptions</code>, <code>minify</code></td></tr><tr><td><code>server</code></td><td>开发服务器</td><td><code>port</code>, <code>host</code>, <code>proxy</code></td></tr><tr><td><code>plugins</code></td><td>插件系统</td><td>官方/社区插件（如 <code>@vitejs/plugin-react</code>）</td></tr></tbody></table><hr><h2 id="四、常用插件-你作为-react-ant-design-用户重点关注" tabindex="-1"><a class="header-anchor" href="#四、常用插件-你作为-react-ant-design-用户重点关注" aria-hidden="true">#</a> 四、常用插件（你作为 React + Ant Design 用户重点关注）</h2><table><thead><tr><th>插件</th><th>用途</th></tr></thead><tbody><tr><td><code>@vitejs/plugin-react</code></td><td>支持 React Fast Refresh、JSX、HMR</td></tr><tr><td><code>vite-plugin-svgr</code></td><td>导入 <code>.svg</code> 作为 React 组件</td></tr><tr><td><code>unplugin-auto-import</code></td><td>自动导入 React、Ant Design 等 API（提升 DX）</td></tr><tr><td><code>vite-plugin-pages</code></td><td>基于文件系统的路由（类似 Next.js）</td></tr><tr><td><code>vite-plugin-eslint</code></td><td>开发时 ESLint 报错</td></tr><tr><td><code>vite-plugin-compression</code></td><td>生产构建时生成 gzip/brotli 压缩文件</td></tr></tbody></table><blockquote><p>💡 Ant Design 无需特殊配置，直接 <code>import { Button } from &#39;antd&#39;</code> 即可，但建议配合 <code>unplugin-auto-import</code> + <code>unplugin-vue-components</code>（虽然名字带 Vue，但支持 React）按需引入。</p></blockquote><hr><h2 id="五、与-webpack-对比-针对你的背景" tabindex="-1"><a class="header-anchor" href="#五、与-webpack-对比-针对你的背景" aria-hidden="true">#</a> 五、与 Webpack 对比（针对你的背景）</h2><table><thead><tr><th>能力</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td>启动速度</td><td>慢（全量打包）</td><td>极快（按需加载）</td></tr><tr><td>HMR 更新</td><td>慢（重构模块）</td><td>快（精准更新）</td></tr><tr><td>配置复杂度</td><td>高（loader/plugin 体系）</td><td>低（开箱即用）</td></tr><tr><td>生产构建</td><td>自身完成</td><td>基于 Rollup</td></tr><tr><td>依赖处理</td><td>全量打包依赖</td><td>预构建 + ESM</td></tr><tr><td>适用场景</td><td>大型复杂项目（需深度定制）</td><td>现代项目（追求开发体验）</td></tr></tbody></table><blockquote><p>✅ 你用 Webpack 主要为了开发调试 + 构建。Vite 可完美替代开发阶段，构建阶段也足够成熟。</p></blockquote><hr><h2 id="六、学习路径建议" tabindex="-1"><a class="header-anchor" href="#六、学习路径建议" aria-hidden="true">#</a> 六、学习路径建议</h2><h3 id="第一阶段-基础掌握-1-2-天" tabindex="-1"><a class="header-anchor" href="#第一阶段-基础掌握-1-2-天" aria-hidden="true">#</a> 第一阶段：基础掌握（1-2 天）</h3><ol><li>安装并创建一个 React 项目：<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> create vite@latest my-react-app -- --template react-ts\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li>熟悉 <code>vite.config.ts</code> 基础配置。</li><li>体验开发服务器速度 vs Webpack。</li></ol><h3 id="第二阶段-集成实际需求-2-3-天" tabindex="-1"><a class="header-anchor" href="#第二阶段-集成实际需求-2-3-天" aria-hidden="true">#</a> 第二阶段：集成实际需求（2-3 天）</h3><ul><li>配置 Ant Design 按需加载（通过 <code>unplugin-auto-import</code>）。</li><li>设置别名、代理（<code>server.proxy</code>）、环境变量。</li><li>集成 ESLint + Prettier + Husky（和你现有流程一致）。</li></ul><h3 id="第三阶段-高级能力-可选" tabindex="-1"><a class="header-anchor" href="#第三阶段-高级能力-可选" aria-hidden="true">#</a> 第三阶段：高级能力（可选）</h3><ul><li>自定义插件（了解 <code>enforce</code>, <code>transform</code>, <code>configureServer</code>）。</li><li>微前端场景下 Vite 的远程模块加载（与你 Backstage 插件方向相关）。</li><li>与 TSDX / Rollup 库项目对比：Vite 侧重应用，TSDX 侧重组件库。</li></ul><hr><h2 id="七、推荐资源" tabindex="-1"><a class="header-anchor" href="#七、推荐资源" aria-hidden="true">#</a> 七、推荐资源</h2>',34),l=(0,r._)("li",null,"官方文档（中文）：https://cn.vitejs.dev/",-1),o=(0,r._)("li",null,"Vite + React 最佳实践：https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts",-1),a=(0,r.Uk)("视频教程（尤雨溪讲解原理）："),c={href:"https://www.youtube.com/watch?v=xXrhg26VCSc",target:"_blank",rel:"noopener noreferrer"},n=(0,r.Uk)("Vite 2.0 - The Problems We Faced Building a Next-Gen Frontend Tooling"),s=(0,r._)("hr",null,null,-1),h=(0,r._)("p",null,"如果你有具体场景（比如“如何在 Vite 中集成 Ant Design 按需加载”或“如何替代 Webpack 构建 Backstage 插件”），我可以给出针对性配置示例。需要吗？",-1),u={},p=(0,d(3744).Z)(u,[["render",function(e,t){const d=(0,r.up)("ExternalLinkIcon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i,(0,r._)("ul",null,[l,o,(0,r._)("li",null,[a,(0,r._)("a",c,[n,(0,r.Wm)(d)])])]),s,h],64)}]])},3744:(e,t)=>{t.Z=(e,t)=>{const d=e.__vccOpts||e;for(const[e,r]of t)d[e]=r;return d}}}]);