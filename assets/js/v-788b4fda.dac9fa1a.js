"use strict";(self.webpackChunkmd_vuepress=self.webpackChunkmd_vuepress||[]).push([[8681],{881:(e,l,t)=>{t.r(l),t.d(l,{data:()=>i});const i={key:"v-788b4fda",path:"/interview-prep/matrix__bundler-webpack-vite-rollup.html",title:"构建工具选型：Webpack vs Vite vs Rollup",lang:"zh-CN",frontmatter:{id:"matrix__bundler-webpack-vite-rollup",type:"matrix",title:"构建工具选型：Webpack vs Vite vs Rollup",mastery:"not_started",tags:["bundler","webpack","vite","rollup"],projects:["project__dji-user-center","project__dji-rms","project__announce-plugin"],source_refs:[{source:"resume",file:"docs/job-description/web前端开发工程师-彭聪.md",anchor:"TODO"}],seed_refs:[{source:"outline",file:"docs/job-description/web前端开发工程师-彭聪-面试技术大纲.md",anchor:"TODO"}],updated_at:"2025-12-20T00:00:00.000Z"},excerpt:"",headers:[{level:2,title:"摘要（Auto）",slug:"摘要-auto",children:[]},{level:2,title:"建议追问（Auto）",slug:"建议追问-auto",children:[]},{level:2,title:"在我项目中的角色与使用场景",slug:"在我项目中的角色与使用场景",children:[]},{level:2,title:"关联卡片",slug:"关联卡片",children:[]},{level:2,title:"在我项目中的角色与使用场景",slug:"在我项目中的角色与使用场景-1",children:[]},{level:2,title:"原理简述",slug:"原理简述",children:[]},{level:2,title:"对比表格",slug:"对比表格",children:[]},{level:2,title:"模拟问答",slug:"模拟问答",children:[]},{level:2,title:"手写代码区",slug:"手写代码区",children:[]},{level:2,title:"我的补充（Manual）",slug:"我的补充-manual",children:[]},{level:2,title:"复盘与反思（Learnings）",slug:"复盘与反思-learnings",children:[]},{level:2,title:"面试官追问（面试官视角）",slug:"面试官追问-面试官视角",children:[]}],git:{updatedTime:1767540754e3},filePathRelative:"interview-prep/matrix__bundler-webpack-vite-rollup.md"}},893:(e,l,t)=>{t.r(l),t.d(l,{default:()=>g});var i=t(6252);const a=(0,i.uE)('<h2 id="摘要-auto" tabindex="-1"><a class="header-anchor" href="#摘要-auto" aria-hidden="true">#</a> 摘要（Auto）</h2><ul><li>生成时间：2025-12-20</li><li>简历中出现的项目标题（提取）：大疆用户中心重构 / 大疆售后 RMS 系统重构 / 跨平台公告插件系统 / 大疆 DevOps 平台维护 / XDR 系统 - 魔方大屏 + 报表</li><li>面试大纲关键词（提取 Top10）：1）大疆用户中心重构：性能优化 + HTTP 原理 + Webpack 架构 / 性能指标与方法论 / 简历可落地点（结合你的“优化四板斧”） / HTTP 常考点（从“为什么变快”倒推） / Webpack 架构（工程化面试常考） / 按优化顺序，把方案“串起来”（排查 → 定位 → 选择 → 验证） / 0. 排查与基线（先把问题“量化”） / 1. 先保“可见”——骨架屏预渲染（直接拉低 LCP） / 2. 再减“阻塞”——关键渲染路径（CRP）梳理：CSS/字体/首图优先级 / 3. 再降“下载与解析成本”——更小的包体与更少的无效代码</li></ul><h2 id="建议追问-auto" tabindex="-1"><a class="header-anchor" href="#建议追问-auto" aria-hidden="true">#</a> 建议追问（Auto）</h2><ul><li>你为什么在该项目/场景里选择这个方案？替代方案为何不选？</li><li>最大一次事故/踩坑是什么？如何定位与回滚？</li><li>如果重做：架构/边界/工程化会怎么调整？</li></ul><h2 id="在我项目中的角色与使用场景" tabindex="-1"><a class="header-anchor" href="#在我项目中的角色与使用场景" aria-hidden="true">#</a> 在我项目中的角色与使用场景</h2><h2 id="关联卡片" tabindex="-1"><a class="header-anchor" href="#关联卡片" aria-hidden="true">#</a> 关联卡片</h2>',6),n=(0,i.Uk)("技术： "),r=(0,i._)("code",null,"tech__webpack",-1),u=(0,i._)("code",null,"tech__vite",-1),d=(0,i._)("code",null,"tech__rollup",-1),o=(0,i.Uk)("项目： "),c=(0,i._)("code",null,"project__dji-user-center",-1),s=(0,i._)("code",null,"project__dji-rms",-1),h=(0,i._)("code",null,"project__announce-plugin",-1),p=(0,i.uE)('<h2 id="在我项目中的角色与使用场景-1" tabindex="-1"><a class="header-anchor" href="#在我项目中的角色与使用场景-1" aria-hidden="true">#</a> 在我项目中的角色与使用场景</h2><ul><li>我常见的选型场景有三类： <ul><li><strong>大存量应用</strong>（中后台/多团队）：优先考虑生态与可控性（Webpack）。</li><li><strong>新项目或中等存量</strong>：优先开发体验与迭代效率（Vite）。</li><li><strong>SDK/组件库/插件</strong>：优先产物质量与 tree-shaking（Rollup）。</li></ul></li><li>面试表达重点：不是背表格，而是先讲约束（存量、团队、发布风险），再讲目标（DX/产物/治理），最后讲回滚策略。</li></ul><h2 id="原理简述" tabindex="-1"><a class="header-anchor" href="#原理简述" aria-hidden="true">#</a> 原理简述</h2><p>把“本质”讲清楚就能自然做取舍：</p><ul><li>Webpack：模块图 + loader/plugin 生命周期，适合“复杂应用构建 + 强定制”。</li><li>Vite：开发期原生 ESM + 依赖预构建（esbuild），生产用 Rollup，适合“追求 DX 的应用构建”。</li><li>Rollup：以 ESM 静态分析为核心，tree-shaking 强，适合“库构建/多格式输出”。</li></ul><p>适用边界（面试常问）：</p><ul><li>Webpack：当你依赖大量 loader/plugin、并且构建链路很复杂（多入口、多环境、多团队）时更稳。</li><li>Vite：当你更在乎“启动与 HMR”，并且依赖生态可满足、迁移风险可控时更划算。</li><li>Rollup：当产物需要被外部系统引用，external/exports/types 很关键时更合适。</li></ul><h2 id="对比表格" tabindex="-1"><a class="header-anchor" href="#对比表格" aria-hidden="true">#</a> 对比表格</h2><p>（A=Webpack，B=Vite，C=Rollup）：</p><table><thead><tr><th>维度</th><th>Webpack</th><th>Vite</th><th>Rollup</th></tr></thead><tbody><tr><td>开发体验</td><td>中（大项目易慢）</td><td><strong>高</strong>（启动/HMR 快）</td><td>中（不以 dev 为核心）</td></tr><tr><td>构建速度</td><td>中（可优化）</td><td>中-高（生产 Rollup）</td><td>高（库场景）</td></tr><tr><td>产物体积</td><td>中（取决于配置）</td><td>中（Rollup）</td><td><strong>小且干净</strong></td></tr><tr><td>生态成熟度</td><td><strong>最高</strong></td><td>高（成长快）</td><td>高（偏库）</td></tr><tr><td>迁移成本</td><td>低（存量）</td><td>中</td><td>高（应用链路不完整）</td></tr><tr><td>风险与回滚</td><td>配置变更可灰度</td><td>迁移期需双构建/旁路</td><td>更适合新库，不建议全量替换</td></tr></tbody></table><h2 id="模拟问答" tabindex="-1"><a class="header-anchor" href="#模拟问答" aria-hidden="true">#</a> 模拟问答</h2><ul><li>[ ] Q1：为什么最终选这个？反例是什么？ <ul><li>推荐回答结构：Context → Problem → Solution → Outcome → Learnings</li></ul></li></ul><h1 id="current-your-changes-current-your-changes" tabindex="-1"><a class="header-anchor" href="#current-your-changes-current-your-changes" aria-hidden="true">#</a> &lt;&lt;&lt;&lt;&lt;&lt;&lt; Current (Your changes) &lt;&lt;&lt;&lt;&lt;&lt;&lt; Current (Your changes)</h1><ul><li><p>[ ] Q2：你怎么把“构建性能预算（budgets）”做成团队可执行的门禁？</p><ul><li>预算维度：入口/关键路由 chunk、vendor、首屏关键资源（CSS/字体/首图），分别设上限。</li><li>门禁落地：CI 解析 <code>stats.json</code> 或产物体积清单；超阈值直接 fail 或要求审批。</li><li>反例：只盯“总包体”容易误导，应该盯“关键路径 + 关键路由”。</li></ul></li><li><p>[ ] Q3：sourceMap 怎么选？为什么生产不一定开 <code>source-map</code>？</p><ul><li>开发：优先反馈速度（例如 cheap/inline/eval 类）。</li><li>生产：考虑构建耗时/体积/源码泄露风险；通常用 <code>hidden-source-map</code> 并只上传到错误系统。</li><li>口径：线上要“可追溯”，但不需要“对外暴露”。</li></ul></li><li><p>[ ] Q4：Webpack → Vite 迁移你最担心什么？怎么旁路验证与回滚？</p><ul><li>风险点：loader/plugin 替代、CJS/UMD 兼容、legacy 浏览器 polyfill、产物 chunk/缓存策略差异。</li><li>验证：双构建并行（Webpack 主线、Vite 旁路），先对齐产物功能一致性，再灰度观察 LCP/INP/CLS/错误率。</li><li>回滚：路由级开关/回滚到上一个稳定构建产物（与 CI/CD 可追溯配套）。</li></ul></li><li><p>[ ] Q5：为什么“库构建”更偏 Rollup？Vite 的库模式和 Rollup 有什么差别？</p><ul><li>核心：库更在乎 external/多格式输出/产物干净/tree-shaking。</li><li>Vite 库模式底层仍是 Rollup，但对 dev/生态更友好；复杂库场景仍可能直接 Rollup 更可控。</li></ul></li><li><p>[ ] Q6：并行化/缓存怎么选？什么时候优化会适得其反？</p><ul><li>并行：核数少/CI 资源紧张时线程切换成本可能 &gt; 收益；I/O 瓶颈时并行会抢磁盘。</li><li>缓存：输入稳定才能命中（依赖版本、配置、环境变量）；否则“看起来开了缓存但没收益”。</li></ul></li></ul><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><h1 id="incoming-background-agent-changes" tabindex="-1"><a class="header-anchor" href="#incoming-background-agent-changes" aria-hidden="true">#</a> Incoming (Background Agent changes)</h1><p>Incoming (Background Agent changes) 建议你背的“选型回答模版”（通用，能打所有构建工具问题）：</p></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><ul><li>Context：我们的约束是 X（存量/团队/插件/发布节奏）。</li><li>Problem：当前痛点是 Y（启动慢、HMR 慢、产物不友好、库体积大）。</li><li>Solution：对比 A/B/C，从“DX/产物/治理/迁移成本/回滚”五个维度做取舍。</li><li>Outcome：用“口径”说结果（构建时长、包体预算、线上性能趋势、回滚次数等）。</li><li>Learnings：下次会怎么更快做决策（先试点、双构建、以指标驱动）。</li></ul><h2 id="手写代码区" tabindex="-1"><a class="header-anchor" href="#手写代码区" aria-hidden="true">#</a> 手写代码区</h2><p>一个“选型验证 PoC”清单（伪代码/步骤）：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1) 选一个真实业务路由作为样板（依赖复杂、首屏关键）\n2) 在 Webpack/Vite 各做一份构建（保持功能一致）\n3) 记录指标：\n   - dev 冷启动耗时、HMR 耗时\n   - prod 构建耗时、产物体积、chunk 数量\n   - 线上关键指标（LCP/INP/CLS）趋势（灰度）\n4) 风险清单：\n   - loader/plugin 替代方案\n   - legacy 浏览器与 polyfill\n   - CI/CD 与回滚策略\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="我的补充-manual" tabindex="-1"><a class="header-anchor" href="#我的补充-manual" aria-hidden="true">#</a> 我的补充（Manual）</h2><p>（不会被脚本覆盖：真实约束、组织因素、踩坑）</p><h2 id="复盘与反思-learnings" tabindex="-1"><a class="header-anchor" href="#复盘与反思-learnings" aria-hidden="true">#</a> 复盘与反思（Learnings）</h2><ul><li>如果重做会怎么改？</li></ul><h2 id="面试官追问-面试官视角" tabindex="-1"><a class="header-anchor" href="#面试官追问-面试官视角" aria-hidden="true">#</a> 面试官追问（面试官视角）</h2><ul><li>[ ] 为什么选这个方案？替代方案为什么不选？</li><li>[!] 最大一次事故/踩坑是什么？如何定位与回滚？</li><li>[ ] 如果重做会怎么改？</li></ul>',25),b={},g=(0,t(3744).Z)(b,[["render",function(e,l){const t=(0,i.up)("RouterLink");return(0,i.wg)(),(0,i.iD)(i.HY,null,[a,(0,i._)("ul",null,[(0,i._)("li",null,[n,(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(t,{to:"/interview-prep/tech__webpack.html#%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"},{default:(0,i.w5)((()=>[r])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(t,{to:"/interview-prep/tech__vite.html#%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"},{default:(0,i.w5)((()=>[u])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(t,{to:"/interview-prep/tech__rollup.html#%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"},{default:(0,i.w5)((()=>[d])),_:1})])])]),(0,i._)("li",null,[o,(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(t,{to:"/interview-prep/project__dji-user-center.html#%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"},{default:(0,i.w5)((()=>[c])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(t,{to:"/interview-prep/project__dji-rms.html#%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"},{default:(0,i.w5)((()=>[s])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(t,{to:"/interview-prep/project__announce-plugin.html#%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0"},{default:(0,i.w5)((()=>[h])),_:1})])])])]),p],64)}]])},3744:(e,l)=>{l.Z=(e,l)=>{const t=e.__vccOpts||e;for(const[e,i]of l)t[e]=i;return t}}}]);