"use strict";(self.webpackChunkmd_vuepress=self.webpackChunkmd_vuepress||[]).push([[4660],{2433:(e,t,d)=>{d.r(t),d.d(t,{data:()=>r});const r={key:"v-3dd27d20",path:"/webpack/vite-%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86.html",title:"vite - çŸ¥è¯†æ¢³ç†",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"ä¸€ã€Vite æ˜¯ä»€ä¹ˆï¼Ÿ",slug:"ä¸€ã€vite-æ˜¯ä»€ä¹ˆ",children:[]},{level:2,title:"äºŒã€æ ¸å¿ƒåŸç†",slug:"äºŒã€æ ¸å¿ƒåŸç†",children:[{level:3,title:"1. å¼€å‘æœåŠ¡å™¨ï¼ˆDev Serverï¼‰",slug:"_1-å¼€å‘æœåŠ¡å™¨-dev-server",children:[]},{level:3,title:"2. ç”Ÿäº§æ„å»ºï¼ˆBuildï¼‰",slug:"_2-ç”Ÿäº§æ„å»º-build",children:[]}]},{level:2,title:"ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ & é…ç½®é¡¹ï¼ˆvite.config.tsï¼‰",slug:"ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ-é…ç½®é¡¹-vite-config-ts",children:[]},{level:2,title:"å››ã€å¸¸ç”¨æ’ä»¶ï¼ˆä½ ä½œä¸º React + Ant Design ç”¨æˆ·é‡ç‚¹å…³æ³¨ï¼‰",slug:"å››ã€å¸¸ç”¨æ’ä»¶-ä½ ä½œä¸º-react-ant-design-ç”¨æˆ·é‡ç‚¹å…³æ³¨",children:[]},{level:2,title:"äº”ã€ä¸ Webpack å¯¹æ¯”ï¼ˆé’ˆå¯¹ä½ çš„èƒŒæ™¯ï¼‰",slug:"äº”ã€ä¸-webpack-å¯¹æ¯”-é’ˆå¯¹ä½ çš„èƒŒæ™¯",children:[]},{level:2,title:"å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®",slug:"å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®",children:[{level:3,title:"ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æŒæ¡ï¼ˆ1-2 å¤©ï¼‰",slug:"ç¬¬ä¸€é˜¶æ®µ-åŸºç¡€æŒæ¡-1-2-å¤©",children:[]},{level:3,title:"ç¬¬äºŒé˜¶æ®µï¼šé›†æˆå®é™…éœ€æ±‚ï¼ˆ2-3 å¤©ï¼‰",slug:"ç¬¬äºŒé˜¶æ®µ-é›†æˆå®é™…éœ€æ±‚-2-3-å¤©",children:[]},{level:3,title:"ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§èƒ½åŠ›ï¼ˆå¯é€‰ï¼‰",slug:"ç¬¬ä¸‰é˜¶æ®µ-é«˜çº§èƒ½åŠ›-å¯é€‰",children:[]}]},{level:2,title:"ä¸ƒã€æ¨èèµ„æº",slug:"ä¸ƒã€æ¨èèµ„æº",children:[]}],git:{updatedTime:1770135605e3},filePathRelative:"webpack/vite-çŸ¥è¯†æ¢³ç†.md"}},8038:(e,t,d)=>{d.r(t),d.d(t,{default:()=>p});var r=d(6252);const i=(0,r.uE)('<h1 id="vite-çŸ¥è¯†æ¢³ç†" tabindex="-1"><a class="header-anchor" href="#vite-çŸ¥è¯†æ¢³ç†" aria-hidden="true">#</a> vite - çŸ¥è¯†æ¢³ç†</h1><p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ å·²ç»ç†Ÿæ‚‰ Reactã€Ant Designã€Webpack ç­‰å·¥å…·ï¼Œå­¦ä¹  Vite ä¼šæ˜¯ä¸€ä¸ªé«˜æ•ˆä¸”å€¼å¾—æŠ•å…¥çš„æ–¹å‘ã€‚ä»¥ä¸‹æ˜¯å›´ç»• <strong>Vite</strong> çš„ç³»ç»ŸçŸ¥è¯†æ¢³ç†ï¼Œå¸®åŠ©ä½ ä»é›¶æ„å»ºè®¤çŸ¥ä½“ç³»ï¼Œå¿«é€ŸæŒæ¡å¹¶åº”ç”¨äºå®é™…é¡¹ç›®ã€‚</p><hr><h2 id="ä¸€ã€vite-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€vite-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> ä¸€ã€Vite æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><strong>Vite</strong>ï¼ˆæ³•è¯­â€œå¿«â€ï¼‰æ˜¯ç”± Vue ä½œè€…å°¤é›¨æºªï¼ˆEvan Youï¼‰ä¸»å¯¼å¼€å‘çš„æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚æ ¸å¿ƒç‰¹ç‚¹ï¼š</p><ul><li><strong>å¼€å‘é˜¶æ®µ</strong>ï¼šåŸºäºåŸç”Ÿ ES æ¨¡å—ï¼ˆESMï¼‰æä¾›<strong>æŒ‰éœ€åŠ è½½</strong>ï¼Œå¯åŠ¨å’Œçƒ­æ›´æ–°æå¿«ï¼ˆæ¯«ç§’çº§ï¼‰ã€‚</li><li><strong>ç”Ÿäº§æ„å»º</strong>ï¼šåŸºäº <strong>Rollup</strong> æ‰“åŒ…ï¼Œè¾“å‡ºé«˜åº¦ä¼˜åŒ–çš„é™æ€èµ„æºã€‚</li><li><strong>æ¡†æ¶æ— å…³</strong>ï¼šåŸç”Ÿæ”¯æŒ Vueã€Reactã€Svelteã€Lit ç­‰ï¼Œå¯¹ React æ”¯æŒéå¸¸å¥½ã€‚</li><li><strong>å¼€ç®±å³ç”¨</strong>ï¼šTypeScriptã€JSXã€CSS é¢„å¤„ç†å™¨ã€JSONã€WebAssembly ç­‰æ— éœ€é…ç½®ã€‚</li></ul><blockquote><p>âœ… å¯¹ä½ è€Œè¨€ï¼šVite æ›¿ä»£ Webpack å¼€å‘ç¯å¢ƒï¼Œå¯ä¿ç•™ Rollup ç”¨äºç”Ÿäº§æ„å»ºï¼ˆä½† Vite æœ¬èº«ä¹Ÿç”¨ Rollup æ„å»ºç”Ÿäº§åŒ…ï¼‰ã€‚</p></blockquote><hr><h2 id="äºŒã€æ ¸å¿ƒåŸç†" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ ¸å¿ƒåŸç†" aria-hidden="true">#</a> äºŒã€æ ¸å¿ƒåŸç†</h2><h3 id="_1-å¼€å‘æœåŠ¡å™¨-dev-server" tabindex="-1"><a class="header-anchor" href="#_1-å¼€å‘æœåŠ¡å™¨-dev-server" aria-hidden="true">#</a> 1. å¼€å‘æœåŠ¡å™¨ï¼ˆDev Serverï¼‰</h3><ul><li>åˆ©ç”¨ç°ä»£æµè§ˆå™¨åŸç”Ÿæ”¯æŒ <code>&lt;script type=&quot;module&quot;&gt;</code>ã€‚</li><li>ä¸æ‰“åŒ…æºç ï¼Œåªåš <strong>æ¨¡å—å›¾è§£æ + æŒ‰éœ€è½¬æ¢</strong>ï¼ˆå¦‚ TS â†’ JSã€JSX â†’ JSï¼‰ã€‚</li><li>ä¾èµ–é¢„æ„å»ºï¼ˆ<code>esbuild</code>ï¼‰ï¼šå°† CommonJS/UMD ä¾èµ–è½¬ä¸º ESMï¼Œæå‡åŠ è½½æ€§èƒ½ã€‚</li></ul><h3 id="_2-ç”Ÿäº§æ„å»º-build" tabindex="-1"><a class="header-anchor" href="#_2-ç”Ÿäº§æ„å»º-build" aria-hidden="true">#</a> 2. ç”Ÿäº§æ„å»ºï¼ˆBuildï¼‰</h3><ul><li>ä½¿ç”¨ <strong>Rollup</strong> è¿›è¡Œ Tree-shakingã€ä»£ç åˆ†å‰²ã€å‹ç¼©ç­‰ã€‚</li><li>é…ç½®ä¸å¼€å‘ä¸€è‡´ï¼ˆ<code>vite.config.ts</code>ï¼‰ï¼Œä½†æ’ä»¶è¡Œä¸ºå¯èƒ½ä¸åŒã€‚</li></ul><hr><h2 id="ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ-é…ç½®é¡¹-vite-config-ts" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ-é…ç½®é¡¹-vite-config-ts" aria-hidden="true">#</a> ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µ &amp; é…ç½®é¡¹ï¼ˆ<code>vite.config.ts</code>ï¼‰</h2><table><thead><tr><th>é…ç½®é¡¹</th><th>è¯´æ˜</th><th>å¸¸ç”¨å€¼</th></tr></thead><tbody><tr><td><code>root</code></td><td>é¡¹ç›®æ ¹ç›®å½•</td><td>é»˜è®¤ <code>process.cwd()</code></td></tr><tr><td><code>base</code></td><td>éƒ¨ç½²åŸºç¡€è·¯å¾„</td><td><code>&quot;/&quot;</code> æˆ– <code>&quot;/my-app/&quot;</code></td></tr><tr><td><code>resolve.alias</code></td><td>è·¯å¾„åˆ«å</td><td><code>{ &#39;@&#39;: path.resolve(__dirname, &#39;src&#39;) }</code></td></tr><tr><td><code>define</code></td><td>å…¨å±€å¸¸é‡æ›¿æ¢</td><td><code>{ &#39;process.env.NODE_ENV&#39;: &#39;&quot;production&quot;&#39; }</code></td></tr><tr><td><code>css</code></td><td>CSS ç›¸å…³é…ç½®</td><td><code>preprocessorOptions</code>, <code>modules</code></td></tr><tr><td><code>build</code></td><td>ç”Ÿäº§æ„å»ºé€‰é¡¹</td><td><code>outDir</code>, <code>rollupOptions</code>, <code>minify</code></td></tr><tr><td><code>server</code></td><td>å¼€å‘æœåŠ¡å™¨</td><td><code>port</code>, <code>host</code>, <code>proxy</code></td></tr><tr><td><code>plugins</code></td><td>æ’ä»¶ç³»ç»Ÿ</td><td>å®˜æ–¹/ç¤¾åŒºæ’ä»¶ï¼ˆå¦‚ <code>@vitejs/plugin-react</code>ï¼‰</td></tr></tbody></table><hr><h2 id="å››ã€å¸¸ç”¨æ’ä»¶-ä½ ä½œä¸º-react-ant-design-ç”¨æˆ·é‡ç‚¹å…³æ³¨" tabindex="-1"><a class="header-anchor" href="#å››ã€å¸¸ç”¨æ’ä»¶-ä½ ä½œä¸º-react-ant-design-ç”¨æˆ·é‡ç‚¹å…³æ³¨" aria-hidden="true">#</a> å››ã€å¸¸ç”¨æ’ä»¶ï¼ˆä½ ä½œä¸º React + Ant Design ç”¨æˆ·é‡ç‚¹å…³æ³¨ï¼‰</h2><table><thead><tr><th>æ’ä»¶</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>@vitejs/plugin-react</code></td><td>æ”¯æŒ React Fast Refreshã€JSXã€HMR</td></tr><tr><td><code>vite-plugin-svgr</code></td><td>å¯¼å…¥ <code>.svg</code> ä½œä¸º React ç»„ä»¶</td></tr><tr><td><code>unplugin-auto-import</code></td><td>è‡ªåŠ¨å¯¼å…¥ Reactã€Ant Design ç­‰ APIï¼ˆæå‡ DXï¼‰</td></tr><tr><td><code>vite-plugin-pages</code></td><td>åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ï¼ˆç±»ä¼¼ Next.jsï¼‰</td></tr><tr><td><code>vite-plugin-eslint</code></td><td>å¼€å‘æ—¶ ESLint æŠ¥é”™</td></tr><tr><td><code>vite-plugin-compression</code></td><td>ç”Ÿäº§æ„å»ºæ—¶ç”Ÿæˆ gzip/brotli å‹ç¼©æ–‡ä»¶</td></tr></tbody></table><blockquote><p>ğŸ’¡ Ant Design æ— éœ€ç‰¹æ®Šé…ç½®ï¼Œç›´æ¥ <code>import { Button } from &#39;antd&#39;</code> å³å¯ï¼Œä½†å»ºè®®é…åˆ <code>unplugin-auto-import</code> + <code>unplugin-vue-components</code>ï¼ˆè™½ç„¶åå­—å¸¦ Vueï¼Œä½†æ”¯æŒ Reactï¼‰æŒ‰éœ€å¼•å…¥ã€‚</p></blockquote><hr><h2 id="äº”ã€ä¸-webpack-å¯¹æ¯”-é’ˆå¯¹ä½ çš„èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#äº”ã€ä¸-webpack-å¯¹æ¯”-é’ˆå¯¹ä½ çš„èƒŒæ™¯" aria-hidden="true">#</a> äº”ã€ä¸ Webpack å¯¹æ¯”ï¼ˆé’ˆå¯¹ä½ çš„èƒŒæ™¯ï¼‰</h2><table><thead><tr><th>èƒ½åŠ›</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>æ…¢ï¼ˆå…¨é‡æ‰“åŒ…ï¼‰</td><td>æå¿«ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</td></tr><tr><td>HMR æ›´æ–°</td><td>æ…¢ï¼ˆé‡æ„æ¨¡å—ï¼‰</td><td>å¿«ï¼ˆç²¾å‡†æ›´æ–°ï¼‰</td></tr><tr><td>é…ç½®å¤æ‚åº¦</td><td>é«˜ï¼ˆloader/plugin ä½“ç³»ï¼‰</td><td>ä½ï¼ˆå¼€ç®±å³ç”¨ï¼‰</td></tr><tr><td>ç”Ÿäº§æ„å»º</td><td>è‡ªèº«å®Œæˆ</td><td>åŸºäº Rollup</td></tr><tr><td>ä¾èµ–å¤„ç†</td><td>å…¨é‡æ‰“åŒ…ä¾èµ–</td><td>é¢„æ„å»º + ESM</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å¤§å‹å¤æ‚é¡¹ç›®ï¼ˆéœ€æ·±åº¦å®šåˆ¶ï¼‰</td><td>ç°ä»£é¡¹ç›®ï¼ˆè¿½æ±‚å¼€å‘ä½“éªŒï¼‰</td></tr></tbody></table><blockquote><p>âœ… ä½ ç”¨ Webpack ä¸»è¦ä¸ºäº†å¼€å‘è°ƒè¯• + æ„å»ºã€‚Vite å¯å®Œç¾æ›¿ä»£å¼€å‘é˜¶æ®µï¼Œæ„å»ºé˜¶æ®µä¹Ÿè¶³å¤Ÿæˆç†Ÿã€‚</p></blockquote><hr><h2 id="å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®" tabindex="-1"><a class="header-anchor" href="#å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®" aria-hidden="true">#</a> å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®</h2><h3 id="ç¬¬ä¸€é˜¶æ®µ-åŸºç¡€æŒæ¡-1-2-å¤©" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€é˜¶æ®µ-åŸºç¡€æŒæ¡-1-2-å¤©" aria-hidden="true">#</a> ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æŒæ¡ï¼ˆ1-2 å¤©ï¼‰</h3><ol><li>å®‰è£…å¹¶åˆ›å»ºä¸€ä¸ª React é¡¹ç›®ï¼š<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> create vite@latest my-react-app -- --template react-ts\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li>ç†Ÿæ‚‰ <code>vite.config.ts</code> åŸºç¡€é…ç½®ã€‚</li><li>ä½“éªŒå¼€å‘æœåŠ¡å™¨é€Ÿåº¦ vs Webpackã€‚</li></ol><h3 id="ç¬¬äºŒé˜¶æ®µ-é›†æˆå®é™…éœ€æ±‚-2-3-å¤©" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒé˜¶æ®µ-é›†æˆå®é™…éœ€æ±‚-2-3-å¤©" aria-hidden="true">#</a> ç¬¬äºŒé˜¶æ®µï¼šé›†æˆå®é™…éœ€æ±‚ï¼ˆ2-3 å¤©ï¼‰</h3><ul><li>é…ç½® Ant Design æŒ‰éœ€åŠ è½½ï¼ˆé€šè¿‡ <code>unplugin-auto-import</code>ï¼‰ã€‚</li><li>è®¾ç½®åˆ«åã€ä»£ç†ï¼ˆ<code>server.proxy</code>ï¼‰ã€ç¯å¢ƒå˜é‡ã€‚</li><li>é›†æˆ ESLint + Prettier + Huskyï¼ˆå’Œä½ ç°æœ‰æµç¨‹ä¸€è‡´ï¼‰ã€‚</li></ul><h3 id="ç¬¬ä¸‰é˜¶æ®µ-é«˜çº§èƒ½åŠ›-å¯é€‰" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰é˜¶æ®µ-é«˜çº§èƒ½åŠ›-å¯é€‰" aria-hidden="true">#</a> ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§èƒ½åŠ›ï¼ˆå¯é€‰ï¼‰</h3><ul><li>è‡ªå®šä¹‰æ’ä»¶ï¼ˆäº†è§£ <code>enforce</code>, <code>transform</code>, <code>configureServer</code>ï¼‰ã€‚</li><li>å¾®å‰ç«¯åœºæ™¯ä¸‹ Vite çš„è¿œç¨‹æ¨¡å—åŠ è½½ï¼ˆä¸ä½  Backstage æ’ä»¶æ–¹å‘ç›¸å…³ï¼‰ã€‚</li><li>ä¸ TSDX / Rollup åº“é¡¹ç›®å¯¹æ¯”ï¼šVite ä¾§é‡åº”ç”¨ï¼ŒTSDX ä¾§é‡ç»„ä»¶åº“ã€‚</li></ul><hr><h2 id="ä¸ƒã€æ¨èèµ„æº" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€æ¨èèµ„æº" aria-hidden="true">#</a> ä¸ƒã€æ¨èèµ„æº</h2>',34),l=(0,r._)("li",null,"å®˜æ–¹æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰ï¼šhttps://cn.vitejs.dev/",-1),o=(0,r._)("li",null,"Vite + React æœ€ä½³å®è·µï¼šhttps://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts",-1),a=(0,r.Uk)("è§†é¢‘æ•™ç¨‹ï¼ˆå°¤é›¨æºªè®²è§£åŸç†ï¼‰ï¼š"),c={href:"https://www.youtube.com/watch?v=xXrhg26VCSc",target:"_blank",rel:"noopener noreferrer"},n=(0,r.Uk)("Vite 2.0 - The Problems We Faced Building a Next-Gen Frontend Tooling"),s=(0,r._)("hr",null,null,-1),h=(0,r._)("p",null,"å¦‚æœä½ æœ‰å…·ä½“åœºæ™¯ï¼ˆæ¯”å¦‚â€œå¦‚ä½•åœ¨ Vite ä¸­é›†æˆ Ant Design æŒ‰éœ€åŠ è½½â€æˆ–â€œå¦‚ä½•æ›¿ä»£ Webpack æ„å»º Backstage æ’ä»¶â€ï¼‰ï¼Œæˆ‘å¯ä»¥ç»™å‡ºé’ˆå¯¹æ€§é…ç½®ç¤ºä¾‹ã€‚éœ€è¦å—ï¼Ÿ",-1),u={},p=(0,d(3744).Z)(u,[["render",function(e,t){const d=(0,r.up)("ExternalLinkIcon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i,(0,r._)("ul",null,[l,o,(0,r._)("li",null,[a,(0,r._)("a",c,[n,(0,r.Wm)(d)])])]),s,h],64)}]])}}]);