<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.32">
    <link rel="apple-touch-icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#3eaf7c"><meta name="msapplication-TileImage" content="/favicon.ico"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileColor" content="#000000"><script src="https://hm.baidu.com/hm.js?8e5be87f55d52e1115a38afce593d2bb"></script><title>代码规范 & Umi/ESLint 规范为什么这样设计 & 如何落地 | acongm</title><meta name="description" content="前端常用知识、踩坑记录、软件推荐等">
    <link rel="preload" href="/vuepress/assets/js/runtime~app.dec019b8.js" as="script"><link rel="preload" href="/vuepress/assets/css/styles.29367367.css" as="style"><link rel="preload" href="/vuepress/assets/js/7471.1aaa9431.js" as="script"><link rel="preload" href="/vuepress/assets/js/app.4f1077e9.js" as="script">
    <link rel="stylesheet" href="/vuepress/assets/css/styles.29367367.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/vuepress/" class=""><img class="logo" src="/vuepress/logo.jpg" alt="acongm"><span class="site-name can-hide">acongm</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础语言"><span class="title">基础语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础语言"><span class="title">基础语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JavaScript</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/" class="" aria-label="js 基础知识"><!--[--><!--]--> js 基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/%E7%BB%8F%E5%85%B8%E9%97%AD%E5%8C%85%E5%A4%84%E7%90%86.html" class="" aria-label="经典闭包处理"><!--[--><!--]--> 经典闭包处理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87-%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE-%E9%97%AD%E5%8C%85.html" class="" aria-label="执行上下文-作用域链-闭包"><!--[--><!--]--> 执行上下文-作用域链-闭包 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/call%E3%80%81apply%E4%B8%8Ebind.html" class="" aria-label="call、apply 与 bind"><!--[--><!--]--> call、apply 与 bind <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/js%E6%A8%A1%E6%8B%9Fbind%E6%96%B9%E6%B3%95.html" class="" aria-label="js 模拟 bind 方法"><!--[--><!--]--> js 模拟 bind 方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/js%E6%A8%A1%E6%8B%9Fnew%E6%93%8D%E4%BD%9C.html" class="" aria-label="能否模拟实现 JS 的 new 操作符"><!--[--><!--]--> 能否模拟实现 JS 的 new 操作符 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>TypeScript</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/TypeScript/" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/TypeScript/Study.html" class="" aria-label="每天学一点 TS"><!--[--><!--]--> 每天学一点 TS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CSS</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/css/" class="" aria-label="CSS 语法相关"><!--[--><!--]--> CSS 语法相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/css/skill.html" class="" aria-label="CSS 奇淫技巧"><!--[--><!--]--> CSS 奇淫技巧 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/css/scss.html" class="" aria-label="常用 SCSS 宏"><!--[--><!--]--> 常用 SCSS 宏 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架生态"><span class="title">框架生态</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架生态"><span class="title">框架生态</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>React</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/react/class-hooks.html" class="" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react16.html" class="" aria-label="十五分钟读懂 React 16"><!--[--><!--]--> 十五分钟读懂 React 16 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react17.html" class="" aria-label="十五分钟读懂 React 17"><!--[--><!--]--> 十五分钟读懂 React 17 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react18.html" class="" aria-label="React 18 新特性"><!--[--><!--]--> React 18 新特性 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react-render.html" class="" aria-label="React 的渲染流程"><!--[--><!--]--> React 的渲染流程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue_theory.html" class="" aria-label="vue 原理"><!--[--><!--]--> vue 原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue_interview.html" class="" aria-label="vue 面试题"><!--[--><!--]--> vue 面试题 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue3.html" class="" aria-label="vue3 原理 - 总结"><!--[--><!--]--> vue3 原理 - 总结 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/code/Object.defineproperty.html" class="" aria-label="Object.defineproperty 核心代码 自定义实现"><!--[--><!--]--> Object.defineproperty 核心代码 自定义实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/code/Proxy.html" class="" aria-label="Proxy 核心代码 自定义实现"><!--[--><!--]--> Proxy 核心代码 自定义实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/code/proxy-observe.html" class="" aria-label="proxy-observe 核心代码 自定义实现"><!--[--><!--]--> proxy-observe 核心代码 自定义实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue-render.html" class="" aria-label="Vue 的渲染流程"><!--[--><!--]--> Vue 的渲染流程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue2.html" class="" aria-label="vue 原理"><!--[--><!--]--> vue 原理 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>设计模式</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/Pattern/%E6%A8%A1%E5%BC%8F%E6%9D%A5%E6%BA%90%E4%B8%8E%E7%B1%BB%E6%AF%94.html" class="" aria-label="这些跨组件通信模式，你可能在哪见过？（来源与类比）"><!--[--><!--]--> 这些跨组件通信模式，你可能在哪见过？（来源与类比） <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/Pattern/" class="" aria-label="跨组件通信模式合集"><!--[--><!--]--> 跨组件通信模式合集 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工程化"><span class="title">工程化</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工程化"><span class="title">工程化</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>构建工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86.html" class="" aria-label="Webpack - 介绍"><!--[--><!--]--> Webpack - 介绍 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8E%9F%E7%90%86.html" class="" aria-label="Webpack - 架构及原理"><!--[--><!--]--> Webpack - 架构及原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/vite-%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86.html" class="" aria-label="vite - 知识梳理"><!--[--><!--]--> vite - 知识梳理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/vite-%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8E%9F%E7%90%86.html" class="" aria-label="vite - 架构及原理"><!--[--><!--]--> vite - 架构及原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/webpack-vite-rollup.html" class="" aria-label="Webpack、Vite、Rollup"><!--[--><!--]--> Webpack、Vite、Rollup <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/ni.html" class="" aria-label="install"><!--[--><!--]--> install <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/npm.html" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/pnpm.html" class="" aria-label="/webpack/install/pnpm.md"><!--[--><!--]--> /webpack/install/pnpm.md <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/yarn.html" class="" aria-label="install"><!--[--><!--]--> install <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7.html" class="" aria-label="install"><!--[--><!--]--> install <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Node.js</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/node/npm.html" class="" aria-label="npm 相关"><!--[--><!--]--> npm 相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/node/toolkit.html" class="" aria-label="常用工具包"><!--[--><!--]--> 常用工具包 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Git</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/git/command.html" class="" aria-label="Git 命令清单"><!--[--><!--]--> Git 命令清单 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/git/commit.html" class="" aria-label="Git commit 规范"><!--[--><!--]--> Git commit 规范 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>性能优化</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/performance/" class="" aria-label="用户中心前端性能优化实战文档"><!--[--><!--]--> 用户中心前端性能优化实战文档 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="进阶专题"><span class="title">进阶专题</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="进阶专题"><span class="title">进阶专题</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>技能提炼</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/" class="router-link-active" aria-label="自我面试"><!--[--><!--]--> 自我面试 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/01-React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="" aria-label="React 16+ 各版本区别 &amp; React 核心原理"><!--[--><!--]--> React 16+ 各版本区别 &amp; React 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/01-React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E8%A1%A5%E5%85%85.html" class="" aria-label="React 19 新特性详解 &amp; useMemo/useCallback 深度解析"><!--[--><!--]--> React 19 新特性详解 &amp; useMemo/useCallback 深度解析 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/02-Webpack%E4%B8%8E%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7.html" class="" aria-label="Webpack 架构 &amp; 与 Rollup、Vite 对比 &amp; 核心原理"><!--[--><!--]--> Webpack 架构 &amp; 与 Rollup、Vite 对比 &amp; 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/03-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" class="" aria-label="性能优化流程 &amp; 从浏览器请求链路解释&quot;为什么这么优化&quot;"><!--[--><!--]--> 性能优化流程 &amp; 从浏览器请求链路解释&quot;为什么这么优化&quot; <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/04-%E5%BE%AE%E5%89%8D%E7%AB%AF.html" class="" aria-label="微前端对比 &amp; 各方案实现原理"><!--[--><!--]--> 微前端对比 &amp; 各方案实现原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/05-%E4%BD%8E%E4%BB%A3%E7%A0%81.html" class="" aria-label="低代码 &amp; 核心原理"><!--[--><!--]--> 低代码 &amp; 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/06-%E6%8F%92%E4%BB%B6%E7%B3%BB%E7%BB%9F.html" class="" aria-label="热插拔插件系统对比 &amp; 各方案实现原理差异"><!--[--><!--]--> 热插拔插件系统对比 &amp; 各方案实现原理差异 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/07-NestJS%E4%B8%8ESSR.html" class="" aria-label="从 NestJS 全栈开发到 SSR &amp; SSR 核心原理"><!--[--><!--]--> 从 NestJS 全栈开发到 SSR &amp; SSR 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html" class="router-link-active router-link-exact-active router-link-active" aria-label="代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地"><!--[--><!--]--> 代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/09-Promise%E5%8E%9F%E7%90%86.html" class="" aria-label="JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise"><!--[--><!--]--> JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/10-%E9%AA%A8%E6%9E%B6%E5%B1%8F.html" class="" aria-label="骨架屏怎么提升性能的？骨架屏的原理及实现"><!--[--><!--]--> 骨架屏怎么提升性能的？骨架屏的原理及实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/11-HTTP%E4%B8%8E%E7%BC%93%E5%AD%98.html" class="" aria-label="从性能优化到 HTTP 变化及缓存"><!--[--><!--]--> 从性能优化到 HTTP 变化及缓存 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/React%E6%9B%B4%E6%96%B0%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3.html" class="" aria-label="React 更新流程详解"><!--[--><!--]--> React 更新流程详解 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>AI 开发</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/ai/" class="" aria-label="AI 相关"><!--[--><!--]--> AI 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>踩坑记录</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/issue/h5.html" class="" aria-label="H5 相关"><!--[--><!--]--> H5 相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/issue/pc.html" class="" aria-label="PC 相关"><!--[--><!--]--> PC 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具箱"><span class="title">工具箱</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具箱"><span class="title">工具箱</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具函数</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/utils/regexp.html" class="" aria-label="常用正则"><!--[--><!--]--> 常用正则 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/utils/function.html" class="" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/utils/library.html" class="" aria-label="库收集"><!--[--><!--]--> 库收集 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>在线工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/online-tools/" class="" aria-label="网页工具"><!--[--><!--]--> 网页工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/online-tools/bookmark-scripts.html" class="" aria-label="书签脚本"><!--[--><!--]--> 书签脚本 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>软件推荐</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/software/cross-platform.html" class="" aria-label="多平台"><!--[--><!--]--> 多平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/mac.html" class="" aria-label="Mac 平台"><!--[--><!--]--> Mac 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/windows.html" class="" aria-label="Windows 平台"><!--[--><!--]--> Windows 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/browser.html" class="" aria-label="浏览器扩展"><!--[--><!--]--> 浏览器扩展 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/vscode.html" class="" aria-label="Visual Studio Code 扩展"><!--[--><!--]--> Visual Studio Code 扩展 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/webstorm.html" class="" aria-label="WebStorm 配置"><!--[--><!--]--> WebStorm 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/zsh.html" class="" aria-label="zsh"><!--[--><!--]--> zsh <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/claude-skills-guide.html" class="" aria-label="Claude Skills 基础原理与编写指南"><!--[--><!--]--> Claude Skills 基础原理与编写指南 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试"><span class="title">面试</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试"><span class="title">面试</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>面试准备</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/interview-prep/" class="" aria-label="知识列表"><!--[--><!--]--> 知识列表 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/theory/" class="" aria-label="面试题库"><!--[--><!--]--> 面试题库 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/interview/2025-04-28.md" class="" aria-label="面试记录"><!--[--><!--]--> 面试记录 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>简历问答</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_LIST.md" class="" aria-label="问答大纲"><!--[--><!--]--> 问答大纲 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_RECORD_SPEAK_AI.md" class="" aria-label="口语版"><!--[--><!--]--> 口语版 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_CODE_EXAMPLES.md" class="" aria-label="代码版"><!--[--><!--]--> 代码版 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_RECORD_KEY.md" class="" aria-label="知识点索引"><!--[--><!--]--> 知识点索引 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_RECORD_BOOK_AI.md" class="" aria-label="书面版"><!--[--><!--]--> 书面版 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="主页"><span class="title">主页</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="主页"><span class="title">主页</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://www.acongm.com" rel="noopener noreferrer" target="_blank" aria-label="Blog"><!--[--><!--]--> Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Acongm" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vuepress/job-description/web前端开发工程师-彭聪.md" class="" aria-label="简历"><!--[--><!--]--> 简历 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><!----><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础语言"><span class="title">基础语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础语言"><span class="title">基础语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JavaScript</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/" class="" aria-label="js 基础知识"><!--[--><!--]--> js 基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/%E7%BB%8F%E5%85%B8%E9%97%AD%E5%8C%85%E5%A4%84%E7%90%86.html" class="" aria-label="经典闭包处理"><!--[--><!--]--> 经典闭包处理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87-%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE-%E9%97%AD%E5%8C%85.html" class="" aria-label="执行上下文-作用域链-闭包"><!--[--><!--]--> 执行上下文-作用域链-闭包 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/call%E3%80%81apply%E4%B8%8Ebind.html" class="" aria-label="call、apply 与 bind"><!--[--><!--]--> call、apply 与 bind <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/js%E6%A8%A1%E6%8B%9Fbind%E6%96%B9%E6%B3%95.html" class="" aria-label="js 模拟 bind 方法"><!--[--><!--]--> js 模拟 bind 方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/JavaScript/js%E6%A8%A1%E6%8B%9Fnew%E6%93%8D%E4%BD%9C.html" class="" aria-label="能否模拟实现 JS 的 new 操作符"><!--[--><!--]--> 能否模拟实现 JS 的 new 操作符 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>TypeScript</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/TypeScript/" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/TypeScript/Study.html" class="" aria-label="每天学一点 TS"><!--[--><!--]--> 每天学一点 TS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CSS</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/css/" class="" aria-label="CSS 语法相关"><!--[--><!--]--> CSS 语法相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/css/skill.html" class="" aria-label="CSS 奇淫技巧"><!--[--><!--]--> CSS 奇淫技巧 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/css/scss.html" class="" aria-label="常用 SCSS 宏"><!--[--><!--]--> 常用 SCSS 宏 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架生态"><span class="title">框架生态</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架生态"><span class="title">框架生态</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>React</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/react/class-hooks.html" class="" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react16.html" class="" aria-label="十五分钟读懂 React 16"><!--[--><!--]--> 十五分钟读懂 React 16 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react17.html" class="" aria-label="十五分钟读懂 React 17"><!--[--><!--]--> 十五分钟读懂 React 17 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react18.html" class="" aria-label="React 18 新特性"><!--[--><!--]--> React 18 新特性 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/react/react-render.html" class="" aria-label="React 的渲染流程"><!--[--><!--]--> React 的渲染流程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue_theory.html" class="" aria-label="vue 原理"><!--[--><!--]--> vue 原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue_interview.html" class="" aria-label="vue 面试题"><!--[--><!--]--> vue 面试题 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue3.html" class="" aria-label="vue3 原理 - 总结"><!--[--><!--]--> vue3 原理 - 总结 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/code/Object.defineproperty.html" class="" aria-label="Object.defineproperty 核心代码 自定义实现"><!--[--><!--]--> Object.defineproperty 核心代码 自定义实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/code/Proxy.html" class="" aria-label="Proxy 核心代码 自定义实现"><!--[--><!--]--> Proxy 核心代码 自定义实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/code/proxy-observe.html" class="" aria-label="proxy-observe 核心代码 自定义实现"><!--[--><!--]--> proxy-observe 核心代码 自定义实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue-render.html" class="" aria-label="Vue 的渲染流程"><!--[--><!--]--> Vue 的渲染流程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/vue/vue2.html" class="" aria-label="vue 原理"><!--[--><!--]--> vue 原理 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>设计模式</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/Pattern/%E6%A8%A1%E5%BC%8F%E6%9D%A5%E6%BA%90%E4%B8%8E%E7%B1%BB%E6%AF%94.html" class="" aria-label="这些跨组件通信模式，你可能在哪见过？（来源与类比）"><!--[--><!--]--> 这些跨组件通信模式，你可能在哪见过？（来源与类比） <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/Pattern/" class="" aria-label="跨组件通信模式合集"><!--[--><!--]--> 跨组件通信模式合集 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工程化"><span class="title">工程化</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工程化"><span class="title">工程化</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>构建工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86.html" class="" aria-label="Webpack - 介绍"><!--[--><!--]--> Webpack - 介绍 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8E%9F%E7%90%86.html" class="" aria-label="Webpack - 架构及原理"><!--[--><!--]--> Webpack - 架构及原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/vite-%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86.html" class="" aria-label="vite - 知识梳理"><!--[--><!--]--> vite - 知识梳理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/vite-%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%8E%9F%E7%90%86.html" class="" aria-label="vite - 架构及原理"><!--[--><!--]--> vite - 架构及原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/webpack-vite-rollup.html" class="" aria-label="Webpack、Vite、Rollup"><!--[--><!--]--> Webpack、Vite、Rollup <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/ni.html" class="" aria-label="install"><!--[--><!--]--> install <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/npm.html" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/pnpm.html" class="" aria-label="/webpack/install/pnpm.md"><!--[--><!--]--> /webpack/install/pnpm.md <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/install/yarn.html" class="" aria-label="install"><!--[--><!--]--> install <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/webpack/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7.html" class="" aria-label="install"><!--[--><!--]--> install <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Node.js</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/node/npm.html" class="" aria-label="npm 相关"><!--[--><!--]--> npm 相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/node/toolkit.html" class="" aria-label="常用工具包"><!--[--><!--]--> 常用工具包 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Git</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/git/command.html" class="" aria-label="Git 命令清单"><!--[--><!--]--> Git 命令清单 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/git/commit.html" class="" aria-label="Git commit 规范"><!--[--><!--]--> Git commit 规范 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>性能优化</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/performance/" class="" aria-label="用户中心前端性能优化实战文档"><!--[--><!--]--> 用户中心前端性能优化实战文档 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="进阶专题"><span class="title">进阶专题</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="进阶专题"><span class="title">进阶专题</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>技能提炼</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/" class="router-link-active" aria-label="自我面试"><!--[--><!--]--> 自我面试 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/01-React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="" aria-label="React 16+ 各版本区别 &amp; React 核心原理"><!--[--><!--]--> React 16+ 各版本区别 &amp; React 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/01-React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E8%A1%A5%E5%85%85.html" class="" aria-label="React 19 新特性详解 &amp; useMemo/useCallback 深度解析"><!--[--><!--]--> React 19 新特性详解 &amp; useMemo/useCallback 深度解析 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/02-Webpack%E4%B8%8E%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7.html" class="" aria-label="Webpack 架构 &amp; 与 Rollup、Vite 对比 &amp; 核心原理"><!--[--><!--]--> Webpack 架构 &amp; 与 Rollup、Vite 对比 &amp; 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/03-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" class="" aria-label="性能优化流程 &amp; 从浏览器请求链路解释&quot;为什么这么优化&quot;"><!--[--><!--]--> 性能优化流程 &amp; 从浏览器请求链路解释&quot;为什么这么优化&quot; <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/04-%E5%BE%AE%E5%89%8D%E7%AB%AF.html" class="" aria-label="微前端对比 &amp; 各方案实现原理"><!--[--><!--]--> 微前端对比 &amp; 各方案实现原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/05-%E4%BD%8E%E4%BB%A3%E7%A0%81.html" class="" aria-label="低代码 &amp; 核心原理"><!--[--><!--]--> 低代码 &amp; 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/06-%E6%8F%92%E4%BB%B6%E7%B3%BB%E7%BB%9F.html" class="" aria-label="热插拔插件系统对比 &amp; 各方案实现原理差异"><!--[--><!--]--> 热插拔插件系统对比 &amp; 各方案实现原理差异 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/07-NestJS%E4%B8%8ESSR.html" class="" aria-label="从 NestJS 全栈开发到 SSR &amp; SSR 核心原理"><!--[--><!--]--> 从 NestJS 全栈开发到 SSR &amp; SSR 核心原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html" class="router-link-active router-link-exact-active router-link-active" aria-label="代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地"><!--[--><!--]--> 代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/09-Promise%E5%8E%9F%E7%90%86.html" class="" aria-label="JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise"><!--[--><!--]--> JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/10-%E9%AA%A8%E6%9E%B6%E5%B1%8F.html" class="" aria-label="骨架屏怎么提升性能的？骨架屏的原理及实现"><!--[--><!--]--> 骨架屏怎么提升性能的？骨架屏的原理及实现 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/11-HTTP%E4%B8%8E%E7%BC%93%E5%AD%98.html" class="" aria-label="从性能优化到 HTTP 变化及缓存"><!--[--><!--]--> 从性能优化到 HTTP 变化及缓存 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/mark/React%E6%9B%B4%E6%96%B0%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3.html" class="" aria-label="React 更新流程详解"><!--[--><!--]--> React 更新流程详解 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>AI 开发</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/ai/" class="" aria-label="AI 相关"><!--[--><!--]--> AI 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>踩坑记录</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/issue/h5.html" class="" aria-label="H5 相关"><!--[--><!--]--> H5 相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/issue/pc.html" class="" aria-label="PC 相关"><!--[--><!--]--> PC 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具箱"><span class="title">工具箱</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具箱"><span class="title">工具箱</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具函数</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/utils/regexp.html" class="" aria-label="常用正则"><!--[--><!--]--> 常用正则 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/utils/function.html" class="" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/utils/library.html" class="" aria-label="库收集"><!--[--><!--]--> 库收集 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>在线工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/online-tools/" class="" aria-label="网页工具"><!--[--><!--]--> 网页工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/online-tools/bookmark-scripts.html" class="" aria-label="书签脚本"><!--[--><!--]--> 书签脚本 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>软件推荐</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/software/cross-platform.html" class="" aria-label="多平台"><!--[--><!--]--> 多平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/mac.html" class="" aria-label="Mac 平台"><!--[--><!--]--> Mac 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/windows.html" class="" aria-label="Windows 平台"><!--[--><!--]--> Windows 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/browser.html" class="" aria-label="浏览器扩展"><!--[--><!--]--> 浏览器扩展 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/vscode.html" class="" aria-label="Visual Studio Code 扩展"><!--[--><!--]--> Visual Studio Code 扩展 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/webstorm.html" class="" aria-label="WebStorm 配置"><!--[--><!--]--> WebStorm 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/zsh.html" class="" aria-label="zsh"><!--[--><!--]--> zsh <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/software/claude-skills-guide.html" class="" aria-label="Claude Skills 基础原理与编写指南"><!--[--><!--]--> Claude Skills 基础原理与编写指南 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试"><span class="title">面试</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试"><span class="title">面试</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>面试准备</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/interview-prep/" class="" aria-label="知识列表"><!--[--><!--]--> 知识列表 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/theory/" class="" aria-label="面试题库"><!--[--><!--]--> 面试题库 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/interview/2025-04-28.md" class="" aria-label="面试记录"><!--[--><!--]--> 面试记录 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>简历问答</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_LIST.md" class="" aria-label="问答大纲"><!--[--><!--]--> 问答大纲 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_RECORD_SPEAK_AI.md" class="" aria-label="口语版"><!--[--><!--]--> 口语版 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_CODE_EXAMPLES.md" class="" aria-label="代码版"><!--[--><!--]--> 代码版 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_RECORD_KEY.md" class="" aria-label="知识点索引"><!--[--><!--]--> 知识点索引 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/vuepress/job-description/ASK_RECORD_BOOK_AI.md" class="" aria-label="书面版"><!--[--><!--]--> 书面版 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="主页"><span class="title">主页</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="主页"><span class="title">主页</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://www.acongm.com" rel="noopener noreferrer" target="_blank" aria-label="Blog"><!--[--><!--]--> Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Acongm" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vuepress/job-description/web前端开发工程师-彭聪.md" class="" aria-label="简历"><!--[--><!--]--> 简历 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p class="sidebar-item sidebar-heading active">技能提炼 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/vuepress/mark/" class="router-link-active sidebar-item" aria-label="自我面试"><!--[--><!--]--> 自我面试 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/01-React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="sidebar-item" aria-label="React 16+ 各版本区别 &amp; React 核心原理"><!--[--><!--]--> React 16+ 各版本区别 &amp; React 核心原理 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/01-React%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86-%E8%A1%A5%E5%85%85.html" class="sidebar-item" aria-label="React 19 新特性详解 &amp; useMemo/useCallback 深度解析"><!--[--><!--]--> React 19 新特性详解 &amp; useMemo/useCallback 深度解析 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/02-Webpack%E4%B8%8E%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7.html" class="sidebar-item" aria-label="Webpack 架构 &amp; 与 Rollup、Vite 对比 &amp; 核心原理"><!--[--><!--]--> Webpack 架构 &amp; 与 Rollup、Vite 对比 &amp; 核心原理 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/03-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" class="sidebar-item" aria-label="性能优化流程 &amp; 从浏览器请求链路解释&quot;为什么这么优化&quot;"><!--[--><!--]--> 性能优化流程 &amp; 从浏览器请求链路解释&quot;为什么这么优化&quot; <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/04-%E5%BE%AE%E5%89%8D%E7%AB%AF.html" class="sidebar-item" aria-label="微前端对比 &amp; 各方案实现原理"><!--[--><!--]--> 微前端对比 &amp; 各方案实现原理 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/05-%E4%BD%8E%E4%BB%A3%E7%A0%81.html" class="sidebar-item" aria-label="低代码 &amp; 核心原理"><!--[--><!--]--> 低代码 &amp; 核心原理 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/06-%E6%8F%92%E4%BB%B6%E7%B3%BB%E7%BB%9F.html" class="sidebar-item" aria-label="热插拔插件系统对比 &amp; 各方案实现原理差异"><!--[--><!--]--> 热插拔插件系统对比 &amp; 各方案实现原理差异 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/07-NestJS%E4%B8%8ESSR.html" class="sidebar-item" aria-label="从 NestJS 全栈开发到 SSR &amp; SSR 核心原理"><!--[--><!--]--> 从 NestJS 全栈开发到 SSR &amp; SSR 核心原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地"><!--[--><!--]--> 代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#笔试题-6-题" class="router-link-active router-link-exact-active sidebar-item" aria-label="笔试题（6 题）"><!--[--><!--]--> 笔试题（6 题） <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_1-代码规范的意义" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 代码规范的意义"><!--[--><!--]--> 1. 代码规范的意义 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_2-eslint-工作原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. ESLint 工作原理"><!--[--><!--]--> 2. ESLint 工作原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_2-5-业界标准-eslint-配置-重点推荐" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5. 业界标准 ESLint 配置（重点推荐）"><!--[--><!--]--> 2.5. 业界标准 ESLint 配置（重点推荐） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_3-prettier-vs-eslint" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Prettier vs ESLint"><!--[--><!--]--> 3. Prettier vs ESLint <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_4-umi-规范设计" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. Umi 规范设计"><!--[--><!--]--> 4. Umi 规范设计 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_5-git-hooks-与规范落地" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. Git Hooks 与规范落地"><!--[--><!--]--> 5. Git Hooks 与规范落地 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_6-typescript-类型规范" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. TypeScript 类型规范"><!--[--><!--]--> 6. TypeScript 类型规范 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#面试题-4-题" class="router-link-active router-link-exact-active sidebar-item" aria-label="面试题（4 题）"><!--[--><!--]--> 面试题（4 题） <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_1-团队规范落地" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 团队规范落地"><!--[--><!--]--> 1. 团队规范落地 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_2-规范与灵活性" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 规范与灵活性"><!--[--><!--]--> 2. 规范与灵活性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_3-规范工具链建设" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 规范工具链建设"><!--[--><!--]--> 3. 规范工具链建设 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#_4-规范实践经验" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 规范实践经验"><!--[--><!--]--> 4. 规范实践经验 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#补充-如何封装公司级-eslint-配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="补充：如何封装公司级 ESLint 配置"><!--[--><!--]--> 补充：如何封装公司级 ESLint 配置 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#为什么需要封装公司级配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么需要封装公司级配置？"><!--[--><!--]--> 为什么需要封装公司级配置？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#实战-封装-company-eslint-config" class="router-link-active router-link-exact-active sidebar-item" aria-label="实战：封装 @company/eslint-config"><!--[--><!--]--> 实战：封装 @company/eslint-config <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vuepress/mark/08-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html#收益分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="收益分析"><!--[--><!--]--> 收益分析 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/vuepress/mark/09-Promise%E5%8E%9F%E7%90%86.html" class="sidebar-item" aria-label="JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise"><!--[--><!--]--> JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/10-%E9%AA%A8%E6%9E%B6%E5%B1%8F.html" class="sidebar-item" aria-label="骨架屏怎么提升性能的？骨架屏的原理及实现"><!--[--><!--]--> 骨架屏怎么提升性能的？骨架屏的原理及实现 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/11-HTTP%E4%B8%8E%E7%BC%93%E5%AD%98.html" class="sidebar-item" aria-label="从性能优化到 HTTP 变化及缓存"><!--[--><!--]--> 从性能优化到 HTTP 变化及缓存 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/React%E6%9B%B4%E6%96%B0%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3.html" class="sidebar-item" aria-label="React 更新流程详解"><!--[--><!--]--> React 更新流程详解 <!--[--><!--]--></a><!----></li><li><a href="/vuepress/mark/ai-doc-content-enhancement.html" class="sidebar-item" aria-label="AI 文档内容提炼增强"><!--[--><!--]--> AI 文档内容提炼增强 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="代码规范-umi-eslint-规范为什么这样设计-如何落地" tabindex="-1"><a class="header-anchor" href="#代码规范-umi-eslint-规范为什么这样设计-如何落地" aria-hidden="true">#</a> 代码规范 &amp; Umi/ESLint 规范为什么这样设计 &amp; 如何落地</h1><h2 id="笔试题-6-题" tabindex="-1"><a class="header-anchor" href="#笔试题-6-题" aria-hidden="true">#</a> 笔试题（6 题）</h2><h3 id="_1-代码规范的意义" tabindex="-1"><a class="header-anchor" href="#_1-代码规范的意义" aria-hidden="true">#</a> 1. 代码规范的意义</h3><p>代码规范的意义是什么？包括哪些维度（格式、命名、架构、最佳实践）？如何平衡规范与效率？</p><p><strong>【作答】：</strong></p><p>代码规范意义:</p><ol><li>提升代码可读性和可维护性，降低团队协作成本</li><li>减少代码审查时的主观争议，提高开发效率</li><li>降低 Bug 率，通过静态检查发现潜在问题</li><li>形成团队知识沉淀，帮助新人快速融入</li><li>提升代码质量，建立工程化标准</li></ol><p>包括的维度:</p><ol><li><p>格式规范:</p><ul><li>缩进、空格、换行、引号使用（单引号/双引号）</li><li>最大行长度、文件末尾空行</li><li>使用 Prettier 统一格式化</li></ul></li><li><p>命名规范:</p><ul><li>变量/函数使用 camelCase（如：getUserInfo）</li><li>组件/类使用 PascalCase（如：UserProfile）</li><li>常量使用 UPPER_SNAKE_CASE（如：MAX_COUNT）</li><li>私有属性使用前缀 _（如：_privateMethod）</li><li>布尔值使用 is/has/should 前缀（如：isVisible, hasError）</li></ul></li><li><p>架构规范:</p><ul><li>目录结构约定（如：components/、utils/、hooks/）</li><li>模块职责划分（单一职责原则）</li><li>依赖关系管理（避免循环依赖）</li><li>分层架构（UI 层、逻辑层、数据层）</li></ul></li><li><p>最佳实践:</p><ul><li>React Hooks 使用规范（依赖数组、自定义 Hooks）</li><li>状态管理模式（避免过度使用全局状态）</li><li>性能优化建议（memo、useMemo、useCallback）</li><li>错误处理机制（Error Boundary、异常捕获）</li><li>安全规范（XSS 防护、数据验证）</li></ul></li></ol><p>平衡规范与效率:</p><ol><li>自动化工具：使用 ESLint + Prettier 自动修复，减少人工成本</li><li>渐进式推进：核心规则强制，非关键规则警告，逐步收紧</li><li>团队共识：规则由团队讨论决定，而非强制推行</li><li>灵活豁免：提供 eslint-disable 等机制应对特殊场景</li><li>持续优化：定期回顾规则有效性，删除过时规则</li><li><strong>使用业界标准配置：站在巨人的肩膀上，减少从零制定成本</strong><ul><li>直接使用成熟的 ESLint 配置（Airbnb、Umi、Ant Design）</li><li>在标准配置基础上微调，而非完全自定义</li><li>降低学习成本，新人更容易理解和接受</li></ul></li></ol><hr><h3 id="_2-eslint-工作原理" tabindex="-1"><a class="header-anchor" href="#_2-eslint-工作原理" aria-hidden="true">#</a> 2. ESLint 工作原理</h3><p>ESLint 的工作原理是什么？AST、规则引擎、修复器如何协同？自定义规则如何编写？</p><p><strong>【作答】：</strong></p><p>工作原理:</p><ol><li>解析（Parse）：将代码转换为 AST（抽象语法树）</li><li>遍历（Traverse）：遍历 AST 节点，触发规则监听器</li><li>检查（Check）：规则引擎执行各项规则检查</li><li>报告（Report）：收集错误和警告信息</li><li>修复（Fix）：自动修复可修复的问题</li></ol><p>AST 解析:</p><ul><li>ESLint 使用 espree 解析器（基于 Acorn）</li><li>将 JavaScript 代码解析为符合 ESTree 规范的 AST</li><li>支持最新的 ECMAScript 语法和 JSX</li><li>示例：const a = 1 → VariableDeclaration 节点 └─ VariableDeclarator ├─ Identifier (name: &quot;a&quot;) └─ Literal (value: 1)</li></ul><p>规则引擎:</p><ul><li>每个规则都是一个独立的模块，导出 create 函数</li><li>通过访问者模式（Visitor Pattern）监听 AST 节点</li><li>规则可监听进入/离开节点（如：Identifier、FunctionDeclaration）</li><li>规则之间相互独立，可插拔配置</li><li>支持规则级别：off(0)、warn(1)、error(2)</li></ul><p>自动修复:</p><ul><li>规则可提供 fix 函数，返回修复操作</li><li>通过 fixer API 操作代码：insertTextBefore、replaceText、remove</li><li>修复器支持范围操作，指定替换位置 [start, end]</li><li>多轮修复：某些修复可能触发其他规则，需要迭代修复</li><li>使用 --fix 参数自动修复</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 自定义规则编写:</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;problem&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">docs</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;禁止使用 var&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fixable</span><span class="token operator">:</span> <span class="token string">&#39;code&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">VariableDeclaration</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">&#39;var&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          context<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            node<span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;请使用 const 或 let&#39;</span><span class="token punctuation">,</span>
            <span class="token function">fix</span><span class="token punctuation">(</span><span class="token parameter">fixer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> fixer<span class="token punctuation">.</span><span class="token function">replaceText</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> node<span class="token punctuation">.</span>raw<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;var&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;const&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><hr><h3 id="_2-5-业界标准-eslint-配置-重点推荐" tabindex="-1"><a class="header-anchor" href="#_2-5-业界标准-eslint-配置-重点推荐" aria-hidden="true">#</a> 2.5. 业界标准 ESLint 配置（重点推荐）</h3><p><strong>为什么使用标准配置？</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>优势：
1. 经过大量项目验证，规则成熟稳定
2. 减少团队争论，&quot;业界标准&quot;就是最好的说服理由
3. 开箱即用，大幅降低配置成本
4. 社区活跃，持续更新维护
5. 新人容易接受（很多人已经熟悉）

原则：
- 80% 使用标准配置，20% 根据团队定制
- 优先选择与技术栈匹配的配置（React 选 Airbnb，Umi 项目选 @umijs/fabric）
- 避免过度定制，增加维护成本
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>常见标准配置对比：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1. eslint-config-airbnb（最流行，React 项目首选）
  npm install --save-dev eslint-config-airbnb eslint-plugin-import eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y

  特点：
  ✅ GitHub 4万+ Star，最受欢迎的配置
  ✅ 规则严格，代码质量高
  ✅ 完善的 React/JSX 支持
  ✅ 包含无障碍性（a11y）规则
  ❌ 规则较严，初期可能不适应

  配置示例：
  {
    &quot;extends&quot;: [
      &quot;airbnb&quot;,           // 完整版（包含 React）
      &quot;airbnb-base&quot;       // 基础版（纯 JS，不含 React）
    ]
  }

  适用场景：React/React Native 项目

---

2. @umijs/fabric（Umi/Ant Design 生态首选）
  npm install --save-dev @umijs/fabric

  特点：
  ✅ 由蚂蚁集团前端团队维护
  ✅ 针对 Umi + Ant Design + DVA 生态优化
  ✅ 包含 ESLint + Prettier + Stylelint 全家桶
  ✅ 内置 TypeScript 支持
  ✅ 规则相对温和，适合国内团队

  配置示例：
  {
    &quot;extends&quot;: [
      &quot;@umijs/fabric&quot;     // 自动包含 eslint + prettier
    ]
  }

  .prettierrc.js：
  const fabric = require(&#39;@umijs/fabric&#39;);
  module.exports = fabric.prettier;

  适用场景：Umi/Ant Design Pro/中后台项目

---

3. eslint-config-standard（零配置，简洁风格）
  npm install --save-dev eslint-config-standard eslint-plugin-import eslint-plugin-node eslint-plugin-promise

  特点：
  ✅ 零配置，开箱即用
  ✅ 无分号风格（受 Vue 社区欢迎）
  ✅ 规则宽松，易于上手
  ❌ 缺少 React 专项规则

  配置示例：
  {
    &quot;extends&quot;: [&quot;standard&quot;]
  }

  适用场景：Node.js/Vue 项目

---

4. eslint-config-google（Google 风格）
  npm install --save-dev eslint-config-google

  特点：
  ✅ Google 官方风格指南
  ✅ 规则保守，稳定性高
  ❌ 社区不如 Airbnb 活跃

  配置示例：
  {
    &quot;extends&quot;: [&quot;google&quot;]
  }

---

5. @ant-design/eslint-config-antd（Ant Design 官方）
  npm install --save-dev @ant-design/eslint-config-antd

  特点：
  ✅ Ant Design 官方维护
  ✅ 专为 Ant Design 组件库优化
  ✅ 适合 Ant Design 深度使用者

  配置示例：
  {
    &quot;extends&quot;: [&quot;@ant-design&quot;]
  }

---

6. eslint-config-alloy（腾讯 AlloyTeam 出品）
  npm install --save-dev eslint-config-alloy

  特点：
  ✅ 腾讯团队维护
  ✅ 支持 React/Vue/TypeScript
  ✅ 规则详细，有中文注释

  配置示例：
  {
    &quot;extends&quot;: [
      &quot;alloy&quot;,
      &quot;alloy/react&quot;,
      &quot;alloy/typescript&quot;
    ]
  }
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div><p><strong>实战推荐配置（根据项目类型）：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>场景 1：Umi + Ant Design + TypeScript 项目（中后台）
推荐：@umijs/fabric

package.json：
{
  &quot;devDependencies&quot;: {
    &quot;@umijs/fabric&quot;: &quot;^3.0.0&quot;,
    &quot;eslint&quot;: &quot;^8.0.0&quot;,
    &quot;prettier&quot;: &quot;^3.0.0&quot;,
    &quot;stylelint&quot;: &quot;^15.0.0&quot;
  }
}

.eslintrc.js：
module.exports = {
  extends: [require.resolve(&#39;@umijs/fabric/dist/eslint&#39;)],

  // 团队定制规则（仅少量调整）
  rules: {
    &#39;no-console&#39;: process__.env.NODE_ENV === &#39;production&#39; ? &#39;error&#39; : &#39;warn&#39;,
    &#39;@typescript-eslint/no-unused-vars&#39;: [&#39;error&#39;, { argsIgnorePattern: &#39;^_&#39; }]
  }
}

.prettierrc.js：
const fabric = require(&#39;@umijs/fabric&#39;);
module.exports = fabric.prettier;

.stylelintrc.js：
module.exports = {
  extends: [require.resolve(&#39;@umijs/fabric/dist/stylelint&#39;)]
};

---

场景 2：React + TypeScript 通用项目
推荐：Airbnb + TypeScript

package.json：
{
  &quot;devDependencies&quot;: {
    &quot;eslint&quot;: &quot;^8.0.0&quot;,
    &quot;eslint-config-airbnb&quot;: &quot;^19.0.0&quot;,
    &quot;eslint-config-airbnb-typescript&quot;: &quot;^17.0.0&quot;,
    &quot;@typescript-eslint/eslint-plugin&quot;: &quot;^6.0.0&quot;,
    &quot;@typescript-eslint/parser&quot;: &quot;^6.0.0&quot;,
    &quot;eslint-plugin-import&quot;: &quot;^2.28.0&quot;,
    &quot;eslint-plugin-jsx-a11y&quot;: &quot;^6.7.0&quot;,
    &quot;eslint-plugin-react&quot;: &quot;^7.33.0&quot;,
    &quot;eslint-plugin-react-hooks&quot;: &quot;^4.6.0&quot;
  }
}

.eslintrc.js：
module.exports = {
  extends: [
    &#39;airbnb&#39;,
    &#39;airbnb-typescript&#39;,
    &#39;airbnb/hooks&#39;
  ],
  parserOptions: {
    project: &#39;./tsconfig.json&#39;
  },
  rules: {
    // 团队定制
    &#39;react/react-in-jsx-scope&#39;: &#39;off&#39;,  // React 17+ 不需要导入 React
    &#39;import/prefer-default-export&#39;: &#39;off&#39;,
    &#39;@typescript-eslint/no-unused-vars&#39;: [&#39;error&#39;, { argsIgnorePattern: &#39;^_&#39; }]
  }
}

---

场景 3：Node.js/Vue 项目
推荐：Standard

package.json：
{
  &quot;devDependencies&quot;: {
    &quot;eslint&quot;: &quot;^8.0.0&quot;,
    &quot;eslint-config-standard&quot;: &quot;^17.0.0&quot;,
    &quot;eslint-plugin-vue&quot;: &quot;^9.0.0&quot;
  }
}

.eslintrc.js：
module.exports = {
  extends: [
    &#39;standard&#39;,
    &#39;plugin:vue/vue3-recommended&#39;
  ]
}

---

场景 4：从零开始，没有历史包袱
推荐：@umijs/fabric（国内团队） 或 Airbnb（国际化团队）

理由：
- @umijs/fabric：中文文档，国内最佳实践，全家桶配置
- Airbnb：国际标准，社区最活跃
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br></div></div><p><strong>如何选择配置？决策树：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>是否使用 Umi 框架？
├─ 是 → @umijs/fabric（官方推荐，零配置）
└─ 否 → 是否使用 React？
      ├─ 是 → 是否使用 TypeScript？
      │      ├─ 是 → airbnb + airbnb-typescript
      │      └─ 否 → airbnb
      └─ 否 → 是否使用 Vue？
              ├─ 是 → standard + plugin:vue
              └─ 否 → standard（Node.js 项目）

特殊场景：
- Ant Design 组件库开发 → @ant-design/eslint-config-antd
- 腾讯系项目 → eslint-config-alloy
- Google 风格偏好 → eslint-config-google
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>配置继承与定制：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 推荐做法：基于标准配置微调</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 继承标准配置（80%）</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/fabric/dist/eslint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// 2. 团队定制规则（20%）</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 关闭不合适的规则</span>
    <span class="token string-property property">&#39;no-console&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// 调整规则级别</span>
    <span class="token literal-property property">complexity</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;warn&#39;</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 降低复杂度要求</span>

    <span class="token comment">// 添加团队特殊规则</span>
    <span class="token string-property property">&#39;no-restricted-imports&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;../*&#39;</span><span class="token punctuation">]</span> <span class="token comment">// 禁止相对路径导入上级目录</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 3. 特殊目录配置</span>
  <span class="token literal-property property">overrides</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/*.test.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.spec.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span> <span class="token comment">// 测试文件允许 any</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><strong>Umi 项目完整配置示例（推荐）：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// .eslintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/fabric/dist/eslint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">ANT_DESIGN_PRO_ONLY_DO_NOT_USE_IN_YOUR_PRODUCTION</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 生产环境禁止 console</span>
    <span class="token string-property property">&#39;no-console&#39;</span><span class="token operator">:</span> process__<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;error&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;warn&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// 允许下划线开头的未使用参数（常见于回调函数）</span>
    <span class="token string-property property">&#39;@typescript-eslint/no-unused-vars&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">argsIgnorePattern</span><span class="token operator">:</span> <span class="token string">&#39;^_&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">varsIgnorePattern</span><span class="token operator">:</span> <span class="token string">&#39;^_&#39;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// 允许命名导出</span>
    <span class="token string-property property">&#39;import/prefer-default-export&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// React 17+ 不需要导入 React</span>
    <span class="token string-property property">&#39;react/react-in-jsx-scope&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// 允许 JSX 在 tsx 文件中</span>
    <span class="token string-property property">&#39;react/jsx-filename-extension&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.tsx&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// .prettierrc.js</span>
<span class="token keyword">const</span> fabric <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/fabric&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>fabric<span class="token punctuation">.</span>prettier<span class="token punctuation">,</span>
  <span class="token comment">// 团队定制（可选）</span>
  <span class="token literal-property property">printWidth</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// 行宽 100（默认 80）</span>
  <span class="token literal-property property">singleQuote</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 单引号</span>
  <span class="token literal-property property">trailingComma</span><span class="token operator">:</span> <span class="token string">&#39;es5&#39;</span> <span class="token comment">// 尾随逗号</span>
<span class="token punctuation">}</span>

<span class="token comment">// .stylelintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/fabric/dist/stylelint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定制 CSS 规则</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p><strong>最佳实践建议：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1. 优先选择标准配置
  ❌ 从零开始编写 100+ 条规则
  ✅ 使用 @umijs/fabric 或 Airbnb，微调 5-10 条规则

2. 根据技术栈选择
  - Umi 生态 → @umijs/fabric
  - React 通用 → Airbnb
  - Vue → Standard + vue
  - Node.js → Standard

3. 团队定制不超过 20%
  - 保留 80% 的标准配置
  - 只调整真正不适合团队的规则
  - 避免过度定制

4. 定期更新配置包
  - 每季度更新一次 @umijs/fabric 等配置包
  - 查看 Changelog，了解新规则
  - 渐进式采纳新规则

5. 文档化定制原因
  // ✅ 好的做法
  rules: {
    // 团队约定：业务代码允许 console.log 用于调试
    &#39;no-console&#39;: &#39;off&#39;
  }

  // ❌ 不好的做法
  rules: {
    &#39;no-console&#39;: &#39;off&#39;  // 为什么关闭？
  }
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><hr><h3 id="_3-prettier-vs-eslint" tabindex="-1"><a class="header-anchor" href="#_3-prettier-vs-eslint" aria-hidden="true">#</a> 3. Prettier vs ESLint</h3><p>Prettier 和 ESLint 的区别是什么？为什么需要两者配合？如何避免冲突？</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Prettier:
- 定位：代码格式化工具（Opinionated Code Formatter）
- 职责：专注于代码风格/格式（缩进、换行、引号、分号等）
- 特点：
  · 几乎无配置，开箱即用
  · 不可定制性强（减少争议）
  · 支持多语言（JS、TS、CSS、HTML、JSON、Markdown等）
  · 只管格式，不管代码质量

ESLint:
- 定位：代码质量检查工具（Code Quality Linter）
- 职责：代码质量 + 部分代码风格检查
- 特点：
  · 高度可配置（规则、插件、解析器）
  · 可检查潜在错误（未使用变量、==误用等）
  · 可自定义规则
  · 支持自动修复（但不如 Prettier 全面）

两者配合:
1. 分工明确：
   - Prettier 负责格式化（缩进、换行、空格）
   - ESLint 负责代码质量（逻辑错误、最佳实践）

2. 协作流程：
   - 先执行 Prettier 格式化
   - 再执行 ESLint 检查代码质量
   - 在 IDE 保存时自动触发

3. 优势互补：
   - Prettier 保证格式统一，减少 ESLint 格式规则
   - ESLint 保证代码质量，发现潜在 Bug
   - 提升开发体验，减少代码审查成本

避免冲突:
1. 使用 eslint-config-prettier：
   - 关闭所有与 Prettier 冲突的 ESLint 格式规则
   - 安装：npm i -D eslint-config-prettier
   - 配置：extends: [&#39;prettier&#39;] // 放在最后

2. 使用 eslint-plugin-prettier（可选）：
   - 将 Prettier 作为 ESLint 规则运行
   - 格式问题会显示为 ESLint 错误
   - 配置：extends: [&#39;plugin:prettier/recommended&#39;]

3. 推荐配置：
   {
     &quot;extends&quot;: [
       &quot;eslint:recommended&quot;,
       &quot;plugin:react/recommended&quot;,
       &quot;prettier&quot;  // 必须放在最后，关闭冲突规则
     ],
     &quot;plugins&quot;: [&quot;prettier&quot;],
     &quot;rules&quot;: {
       &quot;prettier/prettier&quot;: &quot;error&quot;
     }
   }

4. 编辑器集成：
   - VSCode 安装 Prettier 和 ESLint 插件
   - 配置保存时自动格式化：
     &quot;editor.formatOnSave&quot;: true,
     &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><hr><h3 id="_4-umi-规范设计" tabindex="-1"><a class="header-anchor" href="#_4-umi-规范设计" aria-hidden="true">#</a> 4. Umi 规范设计</h3><p>Umi 的规范为什么这样设计（约定式路由、配置式路由、插件机制）？背后的设计哲学是什么？</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>约定式路由:
- 基于文件系统的路由（Convention over Configuration）
- 目录结构即路由结构：
  pages/
    index.tsx        → /
    users/
      index.tsx      → /users
      [id].tsx       → /users/:id
      [id]/edit.tsx  → /users/:id/edit

- 优势：
  · 零配置，开箱即用
  · 目录结构即文档，一目了然
  · 自动生成路由配置
  · 减少心智负担

- 特殊文件：
  · _layout.tsx：布局文件
  · 404.tsx：404 页面
  · $.tsx：通配符路由

配置式路由:
- 通过 .umirc.ts 或 config/config.ts 配置
- 适用场景：
  · 复杂权限控制
  · 动态路由需求
  · 需要精细控制路由行为
  · 路由元信息配置（title、access 等）

- 示例配置：
  export default {
    routes: [
      { path: &#39;/&#39;, component: &#39;@/pages/index&#39; },
      {
        path: &#39;/admin&#39;,
        component: &#39;@/layouts/AdminLayout&#39;,
        access: &#39;canAdmin&#39;,
        routes: [
          { path: &#39;/admin/users&#39;, component: &#39;@/pages/users&#39; }
        ]
      }
    ]
  }

- 优势：
  · 灵活性强，可精确控制
  · 支持路由级权限配置
  · 可配置路由元信息

插件机制:
- Umi 采用插件化架构，核心功能都是插件
- 插件生命周期：
  · onPluginReady：插件准备完成
  · modifyConfig：修改配置
  · modifyPaths：修改路径
  · onGenerateFiles：生成临时文件
  · modifyWebpackConfig：修改 Webpack 配置

- 官方插件：
  · @umijs/plugin-access：权限管理
  · @umijs/plugin-model：简易数据流
  · @umijs/plugin-antd：Ant Design 集成
  · @umijs/plugin-request：网络请求

- 自定义插件：
  export default (api) =&gt; {
    api.describe({ key: &#39;myPlugin&#39; })
    api.modifyConfig((memo) =&gt; {
      // 修改配置
      return memo
    })
  }

设计哲学:
1. 约定优于配置（Convention over Configuration）
   - 减少配置文件，降低学习成本
   - 通过约定降低决策成本
   - 保持一致性，提升团队协作效率

2. 渐进式增强（Progressive Enhancement）
   - 默认提供最佳实践（路由、构建、部署）
   - 需要时可深度定制（配置式路由、插件）
   - 满足不同复杂度项目需求

3. 开箱即用（Out of the Box）
   - 内置路由、构建、Mock、代理等功能
   - 零配置启动项目
   - 降低项目初始化成本

4. 插件化（Plugin System）
   - 核心功能插件化，按需加载
   - 生态丰富，社区活跃
   - 可扩展性强

5. 企业级（Enterprise-ready）
   - 面向中后台应用场景
   - 内置权限、国际化、数据流等企业级需求
   - 稳定性和性能优先

6. 研发体验优先
   - 快速热更新
   - 友好的错误提示
   - 完善的文档和示例
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br></div></div><hr><h3 id="_5-git-hooks-与规范落地" tabindex="-1"><a class="header-anchor" href="#_5-git-hooks-与规范落地" aria-hidden="true">#</a> 5. Git Hooks 与规范落地</h3><p>如何用 Git Hooks（husky、lint-staged、commitlint）落地代码规范？完整的工作流是什么?</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>husky:
- 定位：Git Hooks 管理工具
- 作用：在 Git 操作时自动触发脚本（如：pre-commit、commit-msg）
- 安装配置：
  npm install husky -D
  npx husky install
  npm pkg set scripts.prepare=&quot;husky install&quot;
  npx husky add .husky/pre-commit &quot;npx lint-staged&quot;
  npx husky add .husky/commit-msg &quot;npx commitlint --edit $1&quot;

- 常用 Hooks：
  · pre-commit：提交前检查（代码格式、lint）
  · commit-msg：提交信息检查（规范性）
  · pre-push：推送前检查（测试、构建）

- 优势：
  · 统一团队 Git Hooks 配置
  · 自动安装，无需手动配置
  · 跨平台兼容

lint-staged:
- 定位：只对暂存区文件执行 lint
- 作用：提升性能，只检查本次修改的文件
- 配置（package.json）：
  {
    &quot;lint-staged&quot;: {
      &quot;*.{js,jsx,ts,tsx}&quot;: [
        &quot;eslint --fix&quot;,
        &quot;prettier --write&quot;
      ],
      &quot;*.{css,less,scss}&quot;: [
        &quot;stylelint --fix&quot;,
        &quot;prettier --write&quot;
      ],
      &quot;*.{json,md}&quot;: [
        &quot;prettier --write&quot;
      ]
    }
  }

- 工作流程：
  1. git add 文件到暂存区
  2. git commit 触发 pre-commit
  3. lint-staged 获取暂存文件列表
  4. 对匹配的文件执行命令
  5. 自动 git add 修复后的文件
  6. 继续提交流程

- 优势：
  · 只检查修改文件，速度快
  · 自动修复并重新暂存
  · 支持多种文件类型

commitlint:
- 定位：Git 提交信息规范检查工具
- 作用：强制团队使用统一的提交信息格式
- 安装配置：
  npm install @commitlint/{cli,config-conventional} -D
  echo &quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot; &gt; commitlint.config.js

- 规范格式（Conventional Commits）：
  &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;

  &lt;body&gt;

  &lt;footer&gt;

- type 类型：
  · feat：新功能
  · fix：bug 修复
  · docs：文档修改
  · style：代码格式（不影响功能）
  · refactor：重构
  · perf：性能优化
  · test：测试相关
  · chore：构建/工具变动

- 示例：
  feat(user): 添加用户登录功能
  fix(api): 修复接口超时问题
  docs(readme): 更新安装文档

完整工作流:
1. 开发阶段：
   - 编写代码
   - IDE 保存时自动格式化（Prettier）
   - 实时 ESLint 错误提示

2. 提交前（pre-commit）：
   git add .
   git commit -m &quot;feat: xxx&quot;
   ↓
   触发 husky pre-commit hook
   ↓
   执行 lint-staged
   ↓
   - ESLint 检查并自动修复
   - Prettier 格式化
   - Stylelint 检查样式
   ↓
   检查通过 → 继续提交
   检查失败 → 阻止提交，显示错误

3. 提交信息检查（commit-msg）：
   ↓
   触发 husky commit-msg hook
   ↓
   执行 commitlint
   ↓
   检查提交信息格式
   ↓
   符合规范 → 完成提交
   不符合 → 阻止提交，提示错误

4. 推送前（pre-push，可选）：
   git push
   ↓
   触发 husky pre-push hook
   ↓
   - 执行单元测试
   - 执行构建检查
   - 执行类型检查（tsc --noEmit）
   ↓
   检查通过 → 允许推送
   检查失败 → 阻止推送

5. CI/CD 阶段：
   - 再次执行 ESLint 全量检查
   - 执行完整测试套件
   - 生成代码质量报告
   - 构建部署

完整配置示例（package.json）：
{
  &quot;scripts&quot;: {
    &quot;prepare&quot;: &quot;husky install&quot;,
    &quot;lint&quot;: &quot;eslint src --ext .js,.jsx,.ts,.tsx&quot;,
    &quot;lint:fix&quot;: &quot;eslint src --ext .js,.jsx,.ts,.tsx --fix&quot;,
    &quot;format&quot;: &quot;prettier --write \&quot;src/**/*.{js,jsx,ts,tsx,css,less,json,md}\&quot;&quot;
  },
  &quot;lint-staged&quot;: {
    &quot;*.{js,jsx,ts,tsx}&quot;: [&quot;eslint --fix&quot;, &quot;prettier --write&quot;],
    &quot;*.{css,less}&quot;: [&quot;stylelint --fix&quot;, &quot;prettier --write&quot;]
  },
  &quot;devDependencies&quot;: {
    &quot;husky&quot;: &quot;^8.0.0&quot;,
    &quot;lint-staged&quot;: &quot;^13.0.0&quot;,
    &quot;@commitlint/cli&quot;: &quot;^17.0.0&quot;,
    &quot;@commitlint/config-conventional&quot;: &quot;^17.0.0&quot;
  }
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br></div></div><hr><h3 id="_6-typescript-类型规范" tabindex="-1"><a class="header-anchor" href="#_6-typescript-类型规范" aria-hidden="true">#</a> 6. TypeScript 类型规范</h3><p>TypeScript 项目的类型规范应该如何制定？any 的使用原则、类型覆盖率、严格模式配置？</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>any 使用原则:
1. 禁止使用场景：
   - 业务逻辑代码中禁止使用 any
   - 公共组件/工具函数禁止使用 any
   - 接口定义禁止使用 any

2. 允许使用场景（需添加注释说明）：
   - 第三方库没有类型定义（临时方案，应补充 @types）
   - 复杂类型推导性能问题（极少数情况）
   - 动态数据类型确实无法预知（需业务说明）

3. 替代方案：
   - 使用 unknown 替代 any（类型安全）
   - 使用泛型 &lt;T&gt; 保持类型信息
   - 使用联合类型 string | number
   - 使用类型断言 as Type（谨慎使用）

4. ESLint 规则：
   @typescript-eslint/no-explicit-any: &quot;error&quot;
   @typescript-eslint/no-unsafe-assignment: &quot;warn&quot;

5. 示例对比：
   ❌ 错误：function process__(data: any) { return data.value }
   ✅ 正确：function process__&lt;T&gt;(data: T) { return data }
   ✅ 正确：function process__(data: unknown) {
              if (typeof data === &#39;object&#39;) { ... }
            }

类型覆盖率:
1. 目标设定：
   - 核心业务代码：&gt;95%
   - 工具函数：100%
   - 组件库：100%
   - 测试代码：&gt;80%

2. 检测工具：
   - 使用 type-coverage 检查类型覆盖率
     npx type-coverage --detail
   - 在 CI 中配置最低覆盖率阈值
   - 生成类型覆盖率报告

3. 配置示例（package.json）：
   {
     &quot;scripts&quot;: {
       &quot;type-check&quot;: &quot;tsc --noEmit&quot;,
       &quot;type-coverage&quot;: &quot;type-coverage --at-least 95&quot;
     },
     &quot;typeCoverage&quot;: {
       &quot;atLeast&quot;: 95,
       &quot;strict&quot;: true,
       &quot;ignoreFiles&quot;: [&quot;**/*.spec.ts&quot;, &quot;**/mock/**&quot;]
     }
   }

4. 提升覆盖率策略：
   - 优先处理覆盖率低的核心模块
   - 为第三方库补充 .d.ts 声明文件
   - 重构 any 类型为具体类型
   - 使用泛型增强类型推导

严格模式配置:
tsconfig.json 推荐配置：
{
  &quot;compilerOptions&quot;: {
    // 严格模式（开启所有严格检查）
    &quot;strict&quot;: true,

    // 或单独配置各项严格检查：
    &quot;noImplicitAny&quot;: true,              // 禁止隐式 any
    &quot;strictNullChecks&quot;: true,           // 严格空值检查
    &quot;strictFunctionTypes&quot;: true,        // 严格函数类型检查
    &quot;strictBindCallApply&quot;: true,        // 严格 bind/call/apply
    &quot;strictPropertyInitialization&quot;: true, // 严格属性初始化
    &quot;noImplicitThis&quot;: true,             // 禁止隐式 this
    &quot;alwaysStrict&quot;: true,               // 始终启用严格模式

    // 额外的严格检查
    &quot;noUnusedLocals&quot;: true,             // 未使用的局部变量
    &quot;noUnusedParameters&quot;: true,         // 未使用的参数
    &quot;noImplicitReturns&quot;: true,          // 函数必须有返回值
    &quot;noFallthroughCasesInSwitch&quot;: true, // switch 必须有 break
    &quot;noUncheckedIndexedAccess&quot;: true,   // 索引访问可能为 undefined
    &quot;noPropertyAccessFromIndexSignature&quot;: true, // 索引签名访问

    // 模块解析
    &quot;esModuleInterop&quot;: true,
    &quot;allowSyntheticDefaultImports&quot;: true,
    &quot;moduleResolution&quot;: &quot;node&quot;,

    // 其他
    &quot;skipLibCheck&quot;: true,               // 跳过库文件检查（提升性能）
    &quot;forceConsistentCasingInFileNames&quot;: true
  }
}

类型规范实践:
1. 接口定义规范：
   // ✅ 使用 interface 定义对象结构
   interface User {
     id: number
     name: string
     email?: string  // 可选属性
     readonly createdAt: Date  // 只读属性
   }

   // ✅ 使用 type 定义联合类型/工具类型
   type Status = &#39;pending&#39; | &#39;success&#39; | &#39;error&#39;
   type Partial&lt;T&gt; = { [P in keyof T]?: T[P] }

2. 函数类型规范：
   // ✅ 明确参数和返回值类型
   function fetchUser(id: number): Promise&lt;User&gt; {
     return api.get(`/users/${id}`)
   }

   // ✅ 使用泛型增强复用性
   function mapArray&lt;T, U&gt;(arr: T[], fn: (item: T) =&gt; U): U[] {
     return arr.map(fn)
   }

3. React 组件类型规范：
   // ✅ 使用 FC 或显式定义 props
   interface ButtonProps {
     text: string
     onClick: () =&gt; void
     disabled?: boolean
   }

   const Button: React.FC&lt;ButtonProps&gt; = ({ text, onClick, disabled }) =&gt; {
     return &lt;button onClick={onClick} disabled={disabled}&gt;{text}&lt;/button&gt;
   }

   // ✅ 使用泛型组件
   interface ListProps&lt;T&gt; {
     items: T[]
     renderItem: (item: T) =&gt; React.ReactNode
   }

   function List&lt;T&gt;({ items, renderItem }: ListProps&lt;T&gt;) {
     return &lt;&gt;{items.map(renderItem)}&lt;/&gt;
   }

4. 工具类型使用：
   // Partial：所有属性可选
   type PartialUser = Partial&lt;User&gt;

   // Required：所有属性必填
   type RequiredUser = Required&lt;User&gt;

   // Pick：选择部分属性
   type UserBasic = Pick&lt;User, &#39;id&#39; | &#39;name&#39;&gt;

   // Omit：排除部分属性
   type UserWithoutEmail = Omit&lt;User, &#39;email&#39;&gt;

   // Record：定义键值对
   type UserMap = Record&lt;number, User&gt;

5. 类型守卫：
   function isUser(obj: any): obj is User {
     return typeof obj === &#39;object&#39; &amp;&amp; &#39;id&#39; in obj &amp;&amp; &#39;name&#39; in obj
   }

   if (isUser(data)) {
     // TypeScript 知道 data 是 User 类型
     console.log(data.name)
   }

6. 避免类型断言滥用：
   // ❌ 危险的类型断言
   const user = data as User

   // ✅ 使用类型守卫
   if (isUser(data)) {
     const user = data
   }

   // ✅ 使用类型收窄
   if (typeof value === &#39;string&#39;) {
     // TypeScript 自动推导 value 为 string
   }
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br></div></div><hr><h2 id="面试题-4-题" tabindex="-1"><a class="header-anchor" href="#面试题-4-题" aria-hidden="true">#</a> 面试题（4 题）</h2><h3 id="_1-团队规范落地" tabindex="-1"><a class="header-anchor" href="#_1-团队规范落地" aria-hidden="true">#</a> 1. 团队规范落地</h3><p>如果让你在团队推行代码规范，你会如何做？从制定、宣导、落地、监控到持续改进。</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>第一阶段：调研与制定（1-2周）
1. 现状调研：
   - 统计团队现有代码风格（缩进、命名、架构）
   - 收集团队成员痛点（代码审查争议点、常见 Bug）
   - 调研业界标准（Airbnb、Google、Standard）

2. 规范制定（关键：不要从零开始！）：
   - **直接采用成熟的标准配置**（80% 工作已完成）：
     · Umi 项目 → @umijs/fabric（蚂蚁官方，全家桶）
     · React 项目 → eslint-config-airbnb（社区最流行）
     · Vue 项目 → eslint-config-standard + plugin:vue
     · Node.js → eslint-config-standard

   - **团队定制**（仅 20%）：
     · 只调整真正不适合团队的规则（如 max-lines、complexity）
     · 基于实际痛点定制，避免过度配置
     · 记录每条定制规则的原因

   - **达成共识**：
     · 组织团队讨论会，投票决定使用哪个标准配置
     · 用&quot;业界标准&quot;说服成员，减少主观争论
     · 输出简洁的规范文档（标准配置 + 团队定制）

3. 工具选型（推荐方案）：
   - **Umi 项目**：
     npm install -D @umijs/fabric
     → 自动包含 ESLint + Prettier + Stylelint + TypeScript 配置

   - **React 项目**：
     npm install -D eslint-config-airbnb-typescript
     → Airbnb 规范 + TypeScript 支持

   - **通用工具**：
     · husky + lint-staged（Git Hooks）
     · commitlint（提交信息规范）
     · TypeScript strict mode

第二阶段：试点与宣导（2-3周）
1. 小范围试点：
   - 选择 1-2 个新项目先行试点
   - 收集反馈，优化规则配置
   - 总结最佳实践和常见问题

2. 团队宣导：
   - 组织技术分享会，讲解规范意义和工具使用
   - 编写新手指南和 FAQ 文档
   - 录制视频教程（IDE 配置、插件安装）
   - 建立答疑渠道（Slack/飞书群）

3. 开发环境配置：
   - 提供统一的 VSCode 配置文件（.vscode/settings.json）
   - 编写一键配置脚本（安装依赖、配置插件）
   - 提供项目模板（create-react-app + 规范配置）

第三阶段：全面落地（1个月）
1. 存量代码处理（渐进式）：
   - 不强制改造存量代码（避免大规模冲突）
   - 在修改文件时顺带修复（减少变更范围）
   - 设置 .eslintignore 忽略历史代码
   - 逐步清理技术债务

2. 增量代码强制（Git Hooks）：
   - 所有新代码必须通过 lint 检查
   - pre-commit：lint-staged 自动修复
   - commit-msg：commitlint 检查提交信息
   - pre-push：类型检查和单元测试

3. CI/CD 集成：
   - 在 CI 流程中强制执行 lint 检查
   - 生成质量报告（ESLint、类型覆盖率）
   - 检查不通过则阻止合并/部署

   示例（.gitlab-ci.yml）：
   lint:
     script:
       - npm run lint
       - npm run type-check
       - npm run type-coverage

第四阶段：监控与度量（持续）
1. 数据收集：
   - 统计每次 MR 的 lint 错误数量
   - 统计类型覆盖率趋势
   - 统计代码质量评分（SonarQube）
   - 统计 Bug 率变化

2. 质量报告：
   - 每周发布质量周报（错误 Top10、改进趋势）
   - 在团队会议上同步质量数据
   - 表彰规范执行好的成员

3. 代码审查强化：
   - 在 Code Review 中强调规范执行
   - 建立 CR Checklist（规范项、安全项、性能项）
   - 培养团队规范意识

第五阶段：持续改进（季度）
1. 定期回顾（每季度）：
   - 收集规则争议点和误报问题
   - 评估规则有效性（是否真正减少 Bug）
   - 删除无效规则，优化配置

2. 规范演进：
   - 跟进 ESLint/TypeScript 新特性
   - 引入新工具（如 SonarQube、Codecov）
   - 补充新的最佳实践（性能、安全）

3. 团队能力建设：
   - 分享优秀代码案例
   - 组织规范培训（新人入职培训）
   - 鼓励贡献自定义规则

关键成功因素：
✅ 自动化优先：减少人工干预，降低执行成本
✅ 渐进式推进：先试点后推广，先增量后存量
✅ 数据驱动：用数据说话，证明规范价值
✅ 持续优化：规范是动态的，不是一成不变
✅ 团队共识：规范不是强制，是团队约定

潜在阻力与应对：
1. &quot;规范太严格，影响开发效率&quot;
   → 强调自动修复，实际上是提升效率
   → 展示数据：规范后 Bug 率下降 30%，CR 时间减少 50%

2. &quot;历史代码改造成本太高&quot;
   → 采用渐进式策略，不强制改造存量代码
   → 只对新增/修改代码执行规范

3. &quot;规则太多，记不住&quot;
   → 依赖工具自动检查和修复，不需要记忆
   → 提供配置好的开发环境，开箱即用

4. &quot;某些规则不合理&quot;
   → 建立规则讨论机制，民主决策
   → 提供豁免机制（eslint-disable + 注释说明）
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br></div></div><hr><h3 id="_2-规范与灵活性" tabindex="-1"><a class="header-anchor" href="#_2-规范与灵活性" aria-hidden="true">#</a> 2. 规范与灵活性</h3><p>代码规范如何平衡&quot;统一性&quot;与&quot;灵活性&quot;？什么情况下可以豁免规则？如何设计例外机制？</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>一、平衡统一性与灵活性的策略

1. 分层规则设计：
   - Error 级别（强制，阻止提交）：
     · 可能导致 Bug 的规则（如 no-unused-vars）
     · 安全相关规则（如 no-eval）
     · 类型安全规则（如 @typescript-eslint/no-explicit-any）

   - Warn 级别（警告，不阻止提交）：
     · 代码质量建议（如 complexity 复杂度）
     · 性能优化建议（如 react-hooks/exhaustive-deps）
     · 风格偏好（如 prefer-const）

   - Off 级别（关闭）：
     · 团队认为不适用的规则
     · 与项目特性冲突的规则

2. 核心规则 + 可选规则：
   - 核心规则（20%）：所有项目必须遵守
     · 格式化（Prettier 全权处理）
     · 明显错误（no-undef、no-unreachable）
     · 安全问题（no-eval、no-implied-eval）

   - 可选规则（80%）：各项目根据情况选择
     · 命名风格（驼峰/下划线）
     · 文件组织方式
     · 注释要求

3. 项目级定制：
   - 全局配置（.eslintrc.js）：团队统一规则
   - 项目级覆盖（project/.eslintrc.js）：特殊项目定制
   - 目录级覆盖（src/legacy/.eslintrc.js）：老代码兼容

   示例：
   // 全局配置
   module.exports = {
     extends: [&#39;@company/eslint-config&#39;]
   }

   // 项目级定制
   module.exports = {
     extends: [&#39;@company/eslint-config&#39;],
     rules: {
       &#39;max-lines&#39;: [&#39;warn&#39;, 500]  // 覆盖全局配置
     }
   }

二、可以豁免规则的场景

1. 技术原因：
   ✅ 第三方库类型缺失：
      // @ts-ignore: 第三方库 xyz 缺少类型定义，已提 Issue #123
      import xyz from &#39;xyz&#39;

   ✅ 性能优化需要：
      // eslint-disable-next-line react-hooks/exhaustive-deps
      useEffect(() =&gt; {
        // 只在首次渲染时执行，故意不添加依赖
        initSDK()
      }, [])

   ✅ 算法逻辑复杂度：
      // eslint-disable-next-line complexity
      function complexBusinessLogic() {
        // 业务逻辑确实复杂，无法拆分
      }

2. 业务原因：
   ✅ 遗留代码兼容：
      // .eslintignore
      src/legacy/**/*
      src/vendor/**/*

   ✅ 自动生成代码：
      /* eslint-disable */
      // 此文件由工具自动生成，请勿手动修改
      export const API = { ... }
      /* eslint-enable */

   ✅ 测试代码特殊性：
      // test/.eslintrc.js
      module.exports = {
        rules: {
          &#39;@typescript-eslint/no-explicit-any&#39;: &#39;off&#39;,  // 测试代码允许 any
          &#39;max-lines&#39;: &#39;off&#39;  // 测试文件可以很长
        }
      }

3. 临时豁免：
   ✅ 快速修复线上问题（事后补充 TODO）：
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      // TODO: 临时修复，待重构时补充类型 @张三 2024-12-28
      const temp: any = legacyData

三、例外机制设计

1. 内联注释（最常用）：
   - 单行豁免：
     // eslint-disable-next-line rule-name
     const x = dangerous()

   - 块级豁免：
     /* eslint-disable rule-name */
     const a = 1
     const b = 2
     /* eslint-enable rule-name */

   - 文件级豁免：
     /* eslint-disable */
     // 整个文件忽略

   - TypeScript 忽略：
     // @ts-ignore: 说明原因
     // @ts-expect-error: 期望报错（用于测试）
     // @ts-nocheck: 整个文件不检查

2. 豁免规范（强制要求）：
   ❌ 禁止：无注释的豁免
   // eslint-disable-next-line

   ✅ 要求：必须说明原因
   // eslint-disable-next-line no-console
   // 保留 console 用于调试生产环境问题
   console.log(&#39;debug:&#39;, data)

   ✅ 要求：指定具体规则（不使用 eslint-disable 全局禁用）

   ✅ 要求：临时豁免必须添加 TODO 和负责人
   // eslint-disable-next-line @typescript-eslint/no-explicit-any
   // TODO: 补充类型定义 @张三 #123

3. 豁免审查流程：
   - 在 Code Review 中重点关注豁免代码
   - 检查豁免原因是否充分
   - 评估是否有更好的解决方案
   - 临时豁免必须创建 Issue 跟踪

   CR Checklist:
   □ 豁免是否必要？
   □ 豁免原因是否清晰？
   □ 是否有技术债务跟踪？
   □ 是否可以优化代码避免豁免？

4. 豁免监控：
   - 统计豁免次数（通过 grep 统计 eslint-disable）
   - 定期清理不必要的豁免
   - 在质量报告中展示豁免趋势

   示例脚本：
   # 统计豁免次数
   grep -r &quot;eslint-disable&quot; src/ | wc -l

   # 查找无注释的豁免
   grep -r &quot;eslint-disable-next-line<!--vuepress-ssr-app-->quot; src/

四、实践建议

1. 80/20 原则：
   - 80% 的价值来自 20% 的核心规则
   - 不要追求规则的完美，避免过度规范
   - 优先解决高频问题

2. 渐进式收紧：
   - 新项目：严格模式（Error）
   - 老项目：先 Warn，逐步升级为 Error
   - 团队新规则：试运行期 Warn，稳定后 Error

3. 民主决策：
   - 规则调整需团队讨论
   - 定期回顾规则有效性
   - 接受合理的豁免请求

4. 数据驱动优化：
   - 统计误报率高的规则（考虑关闭）
   - 统计豁免次数多的规则（考虑调整）
   - 统计真实发现的 Bug（证明价值）

5. 文化建设：
   - 规范是帮助而非限制
   - 鼓励提出改进建议
   - 豁免不是失败，是务实的选择
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br></div></div><hr><h3 id="_3-规范工具链建设" tabindex="-1"><a class="header-anchor" href="#_3-规范工具链建设" aria-hidden="true">#</a> 3. 规范工具链建设</h3><p>如何建设完整的规范工具链？编辑器集成、CI/CD 集成、自动化修复、质量报告？</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>一、编辑器集成（开发阶段）

1. VSCode 配置（推荐）：
   .vscode/settings.json（提交到代码库）：
   {
     // 保存时自动格式化
     &quot;editor.formatOnSave&quot;: true,
     &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;,

     // 保存时自动修复 ESLint 错误
     &quot;editor.codeActionsOnSave&quot;: {
       &quot;source.fixAll.eslint&quot;: true
     },

     // ESLint 验证的文件类型
     &quot;eslint.validate&quot;: [
       &quot;javascript&quot;,
       &quot;javascriptreact&quot;,
       &quot;typescript&quot;,
       &quot;typescriptreact&quot;
     ],

     // 禁用 VSCode 自带的 JS/TS 验证（避免重复）
     &quot;javascript.validate.enable&quot;: false,
     &quot;typescript.validate.enable&quot;: false,

     // 配置文件关联
     &quot;files.associations&quot;: {
       &quot;*.css&quot;: &quot;css&quot;,
       &quot;*.less&quot;: &quot;less&quot;
     }
   }

   .vscode/extensions.json（推荐插件）：
   {
     &quot;recommendations&quot;: [
       &quot;dbaeumer.vscode-eslint&quot;,
       &quot;esbenp.prettier-vscode&quot;,
       &quot;stylelint.vscode-stylelint&quot;,
       &quot;ms-vscode.vscode-typescript-next&quot;
     ]
   }

2. 其他编辑器：
   - WebStorm：内置 ESLint 和 Prettier 支持
   - Sublime Text：需安装 SublimeLinter-eslint
   - Vim/Neovim：使用 ALE 或 coc-eslint

3. 一键配置脚本：
   scripts/setup-editor.sh：
   #!/bin/bash
   echo &quot;安装 VSCode 扩展...&quot;
   code --install-extension dbaeumer.vscode-eslint
   code --install-extension esbenp.prettier-vscode

   echo &quot;安装项目依赖...&quot;
   npm install

   echo &quot;配置 Git Hooks...&quot;
   npx husky install

   echo &quot;✅ 开发环境配置完成！&quot;

二、本地开发工具链

1. 包管理器配置：
   package.json：
   {
     &quot;scripts&quot;: {
       // 检查类
       &quot;lint&quot;: &quot;eslint src --ext .js,.jsx,.ts,.tsx&quot;,
       &quot;lint:css&quot;: &quot;stylelint &#39;src/**/*.{css,less,scss}&#39;&quot;,
       &quot;type-check&quot;: &quot;tsc --noEmit&quot;,
       &quot;type-coverage&quot;: &quot;type-coverage --at-least 95&quot;,

       // 修复类
       &quot;lint:fix&quot;: &quot;eslint src --ext .js,.jsx,.ts,.tsx --fix&quot;,
       &quot;lint:css:fix&quot;: &quot;stylelint &#39;src/**/*.{css,less,scss}&#39; --fix&quot;,
       &quot;format&quot;: &quot;prettier --write &#39;src/**/*.{js,jsx,ts,tsx,css,less,json,md}&#39;&quot;,

       // 组合命令
       &quot;check&quot;: &quot;npm run lint &amp;&amp; npm run type-check &amp;&amp; npm run test&quot;,
       &quot;fix&quot;: &quot;npm run lint:fix &amp;&amp; npm run format&quot;
     }
   }

2. Git Hooks 配置：
   .husky/pre-commit：
   #!/bin/sh
   . &quot;$(dirname &quot;$0&quot;)/_/husky.sh&quot;

   npx lint-staged

   .husky/commit-msg：
   #!/bin/sh
   . &quot;$(dirname &quot;$0&quot;)/_/husky.sh&quot;

   npx commitlint --edit $1

   .husky/pre-push：
   #!/bin/sh
   . &quot;$(dirname &quot;$0&quot;)/_/husky.sh&quot;

   npm run type-check
   npm run test

   package.json：
   {
     &quot;lint-staged&quot;: {
       &quot;*.{js,jsx,ts,tsx}&quot;: [
         &quot;eslint --fix&quot;,
         &quot;prettier --write&quot;
       ],
       &quot;*.{css,less,scss}&quot;: [
         &quot;stylelint --fix&quot;,
         &quot;prettier --write&quot;
       ],
       &quot;*.{json,md}&quot;: [
         &quot;prettier --write&quot;
       ]
     }
   }

三、CI/CD 集成（持续集成）

1. GitLab CI 配置：
   .gitlab-ci.yml：
   stages:
     - install
     - lint
     - test
     - build
     - deploy

   # 安装依赖（使用缓存加速）
   install:
     stage: install
     script:
       - npm ci
     cache:
       key: ${CI_COMMIT_REF_SLUG}
       paths:
         - node_modules/
     artifacts:
       paths:
         - node_modules/
       expire_in: 1 hour

   # 代码质量检查
   lint:
     stage: lint
     dependencies:
       - install
     script:
       - npm run lint
       - npm run lint:css
     allow_failure: false  # 失败则阻止合并

   # 类型检查
   type-check:
     stage: lint
     dependencies:
       - install
     script:
       - npm run type-check
       - npm run type-coverage
     artifacts:
       reports:
         coverage_report:
           coverage_format: cobertura
           path: coverage/type-coverage.xml

   # 单元测试
   test:
     stage: test
     dependencies:
       - install
     script:
       - npm run test:coverage
     coverage: &#39;/Statements\s*:\s*(\d+\.\d+)%/&#39;
     artifacts:
       reports:
         coverage_report:
           coverage_format: cobertura
           path: coverage/cobertura-coverage.xml
       paths:
         - coverage/

   # 代码质量报告（SonarQube）
   sonar:
     stage: lint
     dependencies:
       - test
     script:
       - sonar-scanner
     only:
       - main
       - develop

2. GitHub Actions 配置：
   .github/workflows/ci.yml：
   name: CI

   on:
     push:
       branches: [main, develop]
     pull_request:
       branches: [main, develop]

   jobs:
     lint:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v3
         - uses: actions/setup-node@v3
           with:
             node-version: &#39;18&#39;
             cache: &#39;npm&#39;

         - name: Install dependencies
           run: npm ci

         - name: Run ESLint
           run: npm run lint

         - name: Run StyleLint
           run: npm run lint:css

         - name: Type Check
           run: npm run type-check

         - name: Type Coverage
           run: npm run type-coverage

         - name: Run Tests
           run: npm run test:coverage

         - name: Upload coverage to Codecov
           uses: codecov/codecov-action@v3
           with:
             files: ./coverage/coverage-final.json

3. 合并请求检查：
   - 设置 MR/PR 必须通过 CI 才能合并
   - 代码质量评分低于阈值则阻止合并
   - 类型覆盖率下降则发出警告

四、自动化修复

1. 本地自动修复：
   - 保存时自动修复（编辑器集成）
   - 提交时自动修复（lint-staged）
   - 手动执行：npm run fix

2. CI 自动修复（可选）：
   .gitlab-ci.yml：
   auto-fix:
     stage: lint
     script:
       - npm run lint:fix
       - npm run format
       - |
         if [[ `git status --porcelain` ]]; then
           git config user.email &quot;bot@company.com&quot;
           git config user.name &quot;Lint Bot&quot;
           git add .
           git commit -m &quot;chore: auto fix lint errors [skip ci]&quot;
           git push origin HEAD:${CI_COMMIT_REF_NAME}
         fi
     only:
       - merge_requests
     when: manual  # 手动触发

3. IDE 插件自动修复：
   - VSCode：Cmd+Shift+P → &quot;ESLint: Fix all auto-fixable Problems&quot;
   - WebStorm：Cmd+Alt+L（格式化）

五、质量报告

1. SonarQube 集成：
   sonar-project.properties：
   sonar.projectKey=my-project
   sonar.sources=src
   sonar.tests=src
   sonar.test.inclusions=**/*.spec.ts,**/*.test.ts
   sonar.javascript.lcov.reportPaths=coverage/lcov.info
   sonar.eslint.reportPaths=eslint-report.json

   生成 ESLint 报告：
   npx eslint src --format json --output-file eslint-report.json

2. 质量门禁（Quality Gate）：
   - 代码覆盖率 &gt; 80%
   - 类型覆盖率 &gt; 95%
   - 重复代码率 &lt; 3%
   - 代码复杂度 &lt; 15
   - 新增技术债务 = 0

3. 自定义质量报告：
   scripts/quality-report.js：
   const fs = require(&#39;fs&#39;)
   const { ESLint } = require(&#39;eslint&#39;)

   async function generateReport() {
     const eslint = new ESLint()
     const results = await eslint.lintFiles([&#39;src/**/*.{js,ts,jsx,tsx}&#39;])

     const totalErrors = results.reduce((sum, r) =&gt; sum + r.errorCount, 0)
     const totalWarnings = results.reduce((sum, r) =&gt; sum + r.warningCount, 0)

     const report = {
       timestamp: new Date().toISOString(),
       errors: totalErrors,
       warnings: totalWarnings,
       files: results.length
     }

     fs.writeFileSync(&#39;quality-report.json&#39;, JSON.stringify(report, null, 2))
     console.log(`✅ 质量报告已生成：${totalErrors} errors, ${totalWarnings} warnings`)
   }

   generateReport()

4. 可视化报告：
   - ESLint HTML Reporter：
     npx eslint src -f html -o eslint-report.html

   - 类型覆盖率报告：
     npx type-coverage --detail --output-dir type-coverage-report

5. 团队仪表盘：
   - 展示每日质量趋势（错误数、覆盖率）
   - 展示团队成员贡献（提交质量评分）
   - 展示 Top10 问题（高频错误、重复代码）

六、完整工具链架构

开发阶段：
├─ 编辑器插件（实时提示）
├─ 保存时修复（快速反馈）
└─ Git Hooks（提交前检查）

提交阶段：
├─ pre-commit（lint-staged）
├─ commit-msg（commitlint）
└─ pre-push（type-check + test）

CI/CD 阶段：
├─ ESLint 检查（阻止合并）
├─ 类型检查（阻止合并）
├─ 单元测试（阻止合并）
├─ SonarQube 扫描（质量门禁）
└─ 质量报告生成

持续监控：
├─ 质量趋势分析
├─ 技术债务跟踪
└─ 团队质量评分

七、实施建议

1. 分阶段推进：
   - 第一周：编辑器集成 + Git Hooks
   - 第二周：CI/CD 集成
   - 第三周：质量报告 + SonarQube
   - 第四周：监控优化

2. 性能优化：
   - 使用 ESLint 缓存：--cache --cache-location .eslintcache
   - 使用 TypeScript 增量编译：--incremental
   - CI 缓存 node_modules

3. 开发体验：
   - 快速反馈（&lt; 5秒）
   - 友好的错误提示
   - 一键修复
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br></div></div><hr><h3 id="_4-规范实践经验" tabindex="-1"><a class="header-anchor" href="#_4-规范实践经验" aria-hidden="true">#</a> 4. 规范实践经验</h3><p>讲一个你推动代码规范落地的经验：遇到的阻力、如何说服团队、最终效果如何？</p><p><strong>【作答】：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>项目背景：
- 团队规模：15 人前端团队（3 个业务组）
- 项目现状：5 个 React 项目，代码风格不统一，Code Review 经常争论格式问题
- 痛点：
  · 每次 MR 有 30% 的评论是关于代码格式的
  · 新人不知道该遵循什么规范
  · 存在大量隐藏 Bug（如未使用的变量、==误用、类型断言滥用）
  · TypeScript 项目 any 使用率高达 40%

第一阶段：问题调研与方案设计（2 周）

1. 数据收集：
   - 统计 100 个 MR 的评论，发现 30% 是格式争议，20% 是命名争议
   - 统计线上 Bug，发现 15% 是可以被 ESLint 发现的（如 ==、未定义变量）
   - 调研团队成员：80% 的人支持引入规范，但担心改造成本

2. 方案设计：
   - **技术选型**：
     · 核心：@umijs/fabric（团队主要使用 Umi + Ant Design）
     · 理由：蚂蚁官方维护，开箱即用，包含 ESLint + Prettier + Stylelint
     · 备选方案（非 Umi 项目）：eslint-config-airbnb-typescript

   - **规则策略**（80/20 原则）：
     · 80%：直接使用 @umijs/fabric 标准配置（零争议）
     · 20%：团队定制（仅调整 5 条规则）
       - no-console: 开发环境 warn，生产环境 error
       - max-lines: 500（默认 300 太严格）
       - complexity: warn（降级为警告）
       - @typescript-eslint/no-unused-vars: 允许下划线开头
       - import/prefer-default-export: off（团队偏好命名导出）

   - **推进策略**：新项目先行 → 存量项目渐进式

   - **成功指标**：
     · MR 格式评论减少 80%
     · 类型覆盖率 &gt; 90%
     · ESLint 发现的潜在 Bug 数量

3. 试点项目：
   - 选择 1 个新项目进行试点（用户中心项目）

   - **一键配置脚本**（5 分钟完成）：
     # 安装依赖
     npm install -D @umijs/fabric husky lint-staged @commitlint/cli @commitlint/config-conventional

     # 初始化 husky
     npx husky install
     npm pkg set scripts.prepare=&quot;husky install&quot;

     # 创建配置文件
     echo &quot;module.exports = { extends: [require.resolve(&#39;@umijs/fabric/dist/eslint&#39;)] };&quot; &gt; .eslintrc.js
     echo &quot;module.exports = require(&#39;@umijs/fabric&#39;).prettier;&quot; &gt; .prettierrc.js
     echo &quot;module.exports = { extends: [&#39;@commitlint/config-conventional&#39;] };&quot; &gt; commitlint.config.js

     # 配置 Git Hooks
     npx husky add .husky/pre-commit &quot;npx lint-staged&quot;
     npx husky add .husky/commit-msg &quot;npx commitlint --edit $1&quot;

   - **package.json 配置**：
     {
       &quot;scripts&quot;: {
         &quot;lint&quot;: &quot;eslint src --ext .js,.jsx,.ts,.tsx&quot;,
         &quot;lint:fix&quot;: &quot;npm run lint -- --fix&quot;,
         &quot;format&quot;: &quot;prettier --write \&quot;src/**/*.{js,jsx,ts,tsx,css,less,json,md}\&quot;&quot;
       },
       &quot;lint-staged&quot;: {
         &quot;*.{js,jsx,ts,tsx}&quot;: [&quot;eslint --fix&quot;, &quot;prettier --write&quot;],
         &quot;*.{css,less}&quot;: [&quot;stylelint --fix&quot;, &quot;prettier --write&quot;]
       }
     }

   - 运行 2 周，收集反馈
   - **关键成果**：团队反馈&quot;配置太简单了，比想象中容易&quot;

第二阶段：遇到的阻力

1. 阻力 1：&quot;影响开发效率&quot;
   - 表现：开发抱怨每次提交都要等 lint 检查
   - 本质：工具配置不当，检查速度慢（全量检查耗时 30 秒）

   解决方案：
   ✅ 使用 lint-staged 只检查修改文件（耗时降至 3 秒）
   ✅ 启用 ESLint 缓存：--cache
   ✅ 编辑器集成，保存时自动修复（无感知）

   效果：
   - 提交前检查时间从 30 秒降至 3 秒
   - 90% 的问题在编辑器中自动修复，无需等到提交

2. 阻力 2：&quot;存量代码改造成本太高&quot;
   - 表现：运行 lint 后，发现 5000+ 错误，团队觉得无法改完
   - 本质：畏难情绪，担心改出新 Bug

   解决方案：
   ✅ 不强制改造存量代码，使用 .eslintignore 忽略
   ✅ 制定渐进式策略：
      - 修改文件时顺带修复 lint 错误
      - 每周选 1 个模块集中清理
      - 使用 --fix 自动修复 80% 的格式问题
   ✅ 建立技术债务看板，可视化进度

   效果：
   - 3 个月内，错误数从 5000 降至 500（-90%）
   - 每次修改文件时顺带修复，无额外成本
   - 团队有成就感（每周看到错误数下降）

3. 阻力 3：&quot;规则太严格，不合理&quot;
   - 表现：有些规则频繁触发，开发觉得不合理
   - 示例：
     · max-lines: 300（文件不能超过 300 行）
     · complexity: 10（圈复杂度不能超过 10）
     · react-hooks/exhaustive-deps（严格依赖检查）

   解决方案：
   ✅ 组织团队讨论会，投票决定规则级别
   ✅ 调整规则配置：
      - max-lines: 500（放宽限制）
      - complexity: warn（降为警告）
      - 允许合理豁免（需注释说明）
   ✅ 建立规则调整机制（每月回顾）

   效果：
   - 规则接受度从 60% 提升至 95%
   - 形成团队共识，减少争议

4. 阻力 4：&quot;TypeScript 严格模式太难&quot;
   - 表现：开启 strict: true 后，类型错误 3000+
   - 本质：历史代码类型不完善，大量 any

   解决方案：
   ✅ 渐进式收紧：
      - 第一周：noImplicitAny: false
      - 第二周：noImplicitAny: true，但允许显式 any
      - 第四周：启用 @typescript-eslint/no-explicit-any: warn
      - 第八周：升级为 error
   ✅ 提供类型工具函数（减少重复类型定义）
   ✅ 组织 TypeScript 培训（2 次，每次 2 小时）

   效果：
   - 类型覆盖率从 60% 提升至 92%
   - any 使用率从 40% 降至 5%
   - 类型错误帮助发现 20+ 潜在 Bug

第三阶段：如何说服团队

1. 用数据说话：
   - 展示试点项目数据：
     · MR 格式评论从 30% 降至 5%
     · Code Review 时间减少 40%
     · 发现 15 个潜在 Bug（ESLint 自动发现）

   - 计算投入产出比：
     · 初始投入：每人 2 小时配置环境
     · 每周节省：每人 2 小时 CR 时间
     · ROI：第二周就回本

2. 降低迁移成本：
   - **强调使用标准配置的优势**：
     · &quot;我们使用的是蚂蚁/Airbnb 的标准配置，不是我随便定的&quot;
     · &quot;80% 的规则都是业界最佳实践，只定制了 5 条&quot;
     · &quot;其他大厂也在用，这是站在巨人的肩膀上&quot;
     · &quot;你去面试也能加分，因为很多公司都用这套规范&quot;

   - 提供一键配置脚本（setup.sh）：
     #!/bin/bash
     # 一键安装 @umijs/fabric 全家桶
     npm install -D @umijs/fabric
     npx @umijs/fabric setup  # 自动生成配置文件

   - 录制视频教程（10 分钟快速上手）
   - 提供模板项目（clone 即用）
   - 安排专人答疑（Slack 频道）

3. 树立标杆：
   - 选择影响力强的开发者先使用
   - 在团队会议上分享正面反馈
   - 展示自动修复的便利性（Live Demo）

4. 强调长期价值：
   - 新人融入更快（明确的规范）
   - 代码质量提升（减少低级错误）
   - 团队协作更顺畅（减少争议）
   - 技术品牌提升（专业的工程化）

第四阶段：全面推广（1 个月）

1. 推广策略：
   - Week 1：2 个项目试点
   - Week 2：新项目强制使用
   - Week 3：存量项目接入（5 个）
   - Week 4：全员使用，CI 强制检查

2. 配套措施：
   - 建立答疑群（每日解答问题）
   - 每周发布质量周报（排行榜）
   - 奖励执行好的成员（月度之星）
   - 持续优化规则（收集反馈）

最终效果（3 个月后）

定量效果：
✅ MR 格式评论占比：30% → 3%（-90%）
✅ Code Review 时间：平均 45 分钟 → 25 分钟（-44%）
✅ 类型覆盖率：60% → 92%（+32%）
✅ ESLint 发现潜在 Bug：累计 50+ 个
✅ 代码格式统一率：100%（Prettier 自动格式化）
✅ 提交信息规范率：从 40% → 95%（commitlint）

定性效果：
✅ 团队协作更顺畅（减少争议）
✅ 新人上手更快（明确的规范）
✅ 代码质量提升（更少 Bug）
✅ 技术氛围更好（工程化意识提升）
✅ 招聘加分（展示团队专业度）

团队反馈：
- 前端 Leader：&quot;Code Review 效率提升明显，可以更关注业务逻辑&quot;
- 资深开发：&quot;一开始觉得麻烦，现在离不开了&quot;
- 新人：&quot;规范让我快速了解团队标准，很有帮助&quot;

意外收获：
🎉 推动了单元测试覆盖率提升（从 30% → 60%）
🎉 建立了 Monorepo 共享配置（@company/eslint-config）
   - 基于 @umijs/fabric 封装公司级配置
   - 内部 10+ 项目复用，配置成本接近零
   - 新项目只需：npm install -D @company/eslint-config
🎉 输出了团队工程化博客（外部影响力提升）
   - &quot;为什么我们选择 @umijs/fabric 而不是 Airbnb&quot;
   - 吸引了外部优秀人才（&quot;你们团队很专业&quot;）
🎉 促进了前端技术委员会成立（跨团队规范统一）
   - 推动公司级前端规范制定
   - 其他团队也采用相同的标准配置
   - 跨团队协作成本大幅降低

关键成功因素总结：

1. 渐进式推进：不追求一步到位，降低阻力
2. 数据驱动：用数据证明价值，而非强制推行
3. 工具化：自动化工具降低执行成本
4. 团队共识：民主决策，而非一言堂
5. 持续优化：定期回顾，不断改进

反思与改进：

不足之处：
- 初期工具配置复杂，应提供更傻瓜化的配置
- 缺少培训，导致部分开发者不理解规则意义
- 监控不足，未能及时发现规则问题

改进措施：
- 开发 CLI 工具：npx @company/init（一键初始化）
- 建立培训体系：新人必修课
- 建立反馈机制：每月规则回顾会
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br></div></div><hr><h2 id="补充-如何封装公司级-eslint-配置" tabindex="-1"><a class="header-anchor" href="#补充-如何封装公司级-eslint-配置" aria-hidden="true">#</a> 补充：如何封装公司级 ESLint 配置</h2><h3 id="为什么需要封装公司级配置" tabindex="-1"><a class="header-anchor" href="#为什么需要封装公司级配置" aria-hidden="true">#</a> 为什么需要封装公司级配置？</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>场景：
- 公司有 10+ 个前端项目
- 每个项目都要配置一遍 ESLint
- 团队定制的规则分散在各个项目中
- 规则更新时需要逐个项目修改

问题：
❌ 配置重复，维护成本高
❌ 规则不一致，难以统一
❌ 新项目配置门槛高
❌ 规则升级困难

解决方案：
✅ 封装公司级 ESLint 配置包
✅ 基于 @umijs/fabric 或 Airbnb 二次封装
✅ 统一管理团队定制规则
✅ 一行代码接入，零配置成本
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="实战-封装-company-eslint-config" tabindex="-1"><a class="header-anchor" href="#实战-封装-company-eslint-config" aria-hidden="true">#</a> 实战：封装 @company/eslint-config</h3><p><strong>1. 创建配置包项目：</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 初始化项目</span>
<span class="token function">mkdir</span> eslint-config-company
<span class="token builtin class-name">cd</span> eslint-config-company
<span class="token function">npm</span> init -y

<span class="token comment"># 安装依赖（基于 @umijs/fabric）</span>
<span class="token function">npm</span> <span class="token function">install</span> @umijs/fabric eslint prettier stylelint
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>2. 目录结构：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>eslint-config-company/
├── package.json
├── index.js              # ESLint 配置入口
├── prettier.js           # Prettier 配置
├── stylelint.js          # Stylelint 配置
├── typescript.js         # TypeScript 专项配置
├── react.js              # React 专项配置
└── README.md
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>3. 编写配置（index.js）：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 继承标准配置（80%）</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/fabric/dist/eslint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// 公司级定制规则（20%）</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 生产环境禁止 console</span>
    <span class="token string-property property">&#39;no-console&#39;</span><span class="token operator">:</span> process__<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;error&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;warn&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// 2. 允许下划线开头的未使用变量</span>
    <span class="token string-property property">&#39;@typescript-eslint/no-unused-vars&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">argsIgnorePattern</span><span class="token operator">:</span> <span class="token string">&#39;^_&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">varsIgnorePattern</span><span class="token operator">:</span> <span class="token string">&#39;^_&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">destructuredArrayIgnorePattern</span><span class="token operator">:</span> <span class="token string">&#39;^_&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// 3. 文件长度限制（放宽）</span>
    <span class="token string-property property">&#39;max-lines&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#39;warn&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token literal-property property">skipBlankLines</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">skipComments</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// 4. 圈复杂度（降级为警告）</span>
    <span class="token literal-property property">complexity</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;warn&#39;</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// 5. 允许命名导出</span>
    <span class="token string-property property">&#39;import/prefer-default-export&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// 6. React 17+ 不需要导入 React</span>
    <span class="token string-property property">&#39;react/react-in-jsx-scope&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// 7. 允许 JSX 在 tsx 文件中</span>
    <span class="token string-property property">&#39;react/jsx-filename-extension&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.tsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jsx&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// 8. 公司特殊规则：禁止使用特定库</span>
    <span class="token string-property property">&#39;no-restricted-imports&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">paths</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;moment&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;请使用 dayjs 替代 moment，体积更小&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 特殊目录配置</span>
  <span class="token literal-property property">overrides</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// 测试文件宽松规则</span>
      <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/*.test.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.test.tsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.spec.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.spec.tsx&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;max-lines&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;no-console&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// 配置文件宽松规则</span>
      <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;*.config.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*.config.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.*.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;@typescript-eslint/no-var-requires&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;import/no-commonjs&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><p><strong>4. Prettier 配置（prettier.js）：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fabric <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/fabric&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>fabric<span class="token punctuation">.</span>prettier<span class="token punctuation">,</span>

  <span class="token comment">// 公司定制</span>
  <span class="token literal-property property">printWidth</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// 行宽 100</span>
  <span class="token literal-property property">singleQuote</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 单引号</span>
  <span class="token literal-property property">trailingComma</span><span class="token operator">:</span> <span class="token string">&#39;es5&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 尾随逗号</span>
  <span class="token literal-property property">tabWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 缩进 2 空格</span>
  <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 分号</span>
  <span class="token literal-property property">arrowParens</span><span class="token operator">:</span> <span class="token string">&#39;always&#39;</span> <span class="token comment">// 箭头函数参数括号</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>5. package.json 配置：</strong></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@company/eslint-config&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;公司前端 ESLint 配置&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;prettier.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;stylelint.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;typescript.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;react.js&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@umijs/fabric&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;eslint&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;eslintconfig&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;prettier&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;company&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>6. 项目中使用（只需一行）：</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装</span>
<span class="token function">npm</span> <span class="token function">install</span> -D @company/eslint-config

<span class="token comment"># .eslintrc.js（只需一行！）</span>
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  extends: <span class="token punctuation">[</span><span class="token string">&#39;@company&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment"># .prettierrc.js（只需一行！）</span>
module.exports <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;@company/eslint-config/prettier&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="收益分析" tabindex="-1"><a class="header-anchor" href="#收益分析" aria-hidden="true">#</a> 收益分析</h3><p><strong>配置前（每个项目单独配置）：</strong></p><ul><li>新项目配置时间：2 小时</li><li>规则维护成本：每个项目单独修改</li><li>规则一致性：差（各项目规则不统一）</li></ul><p><strong>配置后（使用 @company/eslint-config）：</strong></p><ul><li>新项目配置时间：5 分钟（-95%）</li><li>规则维护成本：修改一次，全部项目受益</li><li>规则一致性：完全统一</li></ul><p><strong>投入产出比：</strong></p><ul><li>初始投入：1 人天（封装配置包）</li><li>每个项目节省：1.9 小时</li><li>10 个项目即可回本</li><li>长期收益：规则统一、维护简单</li></ul><hr><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/vuepress/mark/07-NestJS%E4%B8%8ESSR.html" class="" aria-label="从 NestJS 全栈开发到 SSR &amp; SSR 核心原理"><!--[--><!--]--> 从 NestJS 全栈开发到 SSR &amp; SSR 核心原理 <!--[--><!--]--></a></span><span class="next"><a href="/vuepress/mark/09-Promise%E5%8E%9F%E7%90%86.html" class="" aria-label="JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise"><!--[--><!--]--> JS 为什么会设计 Promise &amp; 如何手写实现一个 Promise <!--[--><!--]--></a></span></p></nav><!--[--><!--[--><div style="display:none"></div><div class="adsbygoogle-box"><ins class="adsbygoogle" style="display:block;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6846038091720568" data-ad-slot="1554369026"></ins></div><div style="display:none"> (adsbygoogle = window.adsbygoogle || []).push({}); </div><div class="ai-summary-wrapper" data-v-8fb93ae2><button class="ai-summary-btn" title="AI 内容提炼" data-v-8fb93ae2><svg class="ai-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-8fb93ae2><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" data-v-8fb93ae2></path></svg><span class="btn-text" data-v-8fb93ae2>AI 提炼</span></button><!----></div><!--]--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script src="/vuepress/assets/js/runtime~app.dec019b8.js" defer></script><script src="/vuepress/assets/js/7471.1aaa9431.js" defer></script><script src="/vuepress/assets/js/app.4f1077e9.js" defer></script>
  </body>
</html>
